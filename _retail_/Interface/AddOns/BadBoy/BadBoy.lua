
-- GLOBALS: BADBOY_BLACKLIST, BADBOY_OPTIONS, BadBoyLog, ChatFrame1, GetTime, print, CalendarGetDate
-- GLOBALS: GameTooltip, C_Timer, IsEncounterInProgress, GameTooltip_Hide
local _, S = ...
S.gnt(179,"117,125,122,114,60,56,130,128,119,126,126,77,122,115,60,56,113,111,129,119,124,125^130,128,111,114,119,124,117,123,135,133,125,128,122,114,125,116,133,111,128,113,128,111,116,130,117,125,122,114,116,125,128,60,56,128,131,124,115,129,113,111,126,115,117,125,122,114^108,133,130,129,113,118,115,111,126,117,125,122,114^113,111,129,119,124,125,60,56,51,114,57,134,64,60,56,51,114,57,134,65^108,133,130,112,117,125,122,114,60,56,117,111,123,115,130,119,123,115^108,117,125,130,129,125,123,115,128,129,62,69,61,77,128,77,129,77,65,77,117,125,122,114,122,111,135,119,124,117,111,128,125,131,124,114,60,56,123,115^113,111,129,119,124,125,60,56,51,114,57,60,56,114,125,131,112,122,115,60,56,51,114,57,60,56,130,128,119,126,126,77,122,115^108,133,130,129,51,114,57,121,116,125,128,51,114,57,115,131^108,133,130,130,133,125,133,117,116,125,128,128,129,62,69,117^108,133,130,105,112,129,107,117,111,123,115,130,119,123,115^108,133,130,129,51,114,57,114,111,135,129,77,117,111,123,115,113,111,128,114^117,111,123,112,122,115,60,56,128,125,122,122,60,56,134,64,60,56,128,125,122,122,60,56,134,67^133,130,105,112,129,107,133,125,133,117,125,122,114,60,56,128,129,113,125,119,124,130,77,129^108,133,130,105,112,129,130,107,113,129,117,125,121,115,135^108,133,130,112,128,129,117,126,50^108,133,130,105,112,129,107,117,111,123,115,113,125,114,115^108,133,130,105,112,129,130,107,122,115,117,119,125,124,113,77,114,77,121,115,135^51,114,57,60,56,114,105,125,131,107,105,131,112,107,112,122,115,60,56,51,114,57,60,56,130,128,119,126^133,130,105,112,129,107,128,131,124,115,129,113,111,126,115,111,113,113,125,131,124,130^108,130,128,111,114,119,124,117,133,125,133,117,125,122,114,116,125,128,125,77,129,77,128,129,117,125,122,114^108,133,130,105,112,129,130,107,113,129,51,60,77,117,125,129,121,119,124^108,133,130,112,125,129,128,129,117,126^108,133,130,105,112,129,130,107,111,124,135,113,129,117,125,129,121,119,124^108,133,130,105,112,129,130,107,113,129,129,121,119,124,129^108,130,128,111,114,119,124,117,113,129,117,125,60,56,117,125,122,114^108,129,115,122,122,119,124,117,113,129,117,125,119,130,115,123^108,133,130,105,112,129,107,51,114,57,123,125,124,130,118,60,56,117,111,123,115,130,119,123,115^108,133,130,105,112,129,107,105,65,68,107,62,114,111,135,129,77,126,128,115,126,111,119,114,117,111,123,115,130,119,123,115^108,129,115,122,122,119,124,117,113,129,117,125,129,121,119,124^112,131,135,119,124,117,77,128,131,124,115,129,113,111,126,115,105,111,117,107^108,133,130,105,112,129,130,107,121,115,135,129,119,124,113,129,117,125^108,133,130,105,112,129,130,107,123,135,133,125,133,117,125,122,114,60,56,113,129,117,125,129,121,119,124^108,133,130,105,112,129,107,111,77,124,77,111,133,115,129,125,123,115,128,129,111,113,113,125,131,124,130^128,125,122,122,60,56,51,114,57,60,56,128,125,122,122,60,56,51,114,57,60,56,112,115,130^113,111,129,119,124,125,60,56,122,115,117,119,130,60,56,129,111,116,115,60,56,113,111,129,119,124,125^108,117,125,130,111,124,135,128,131,124,115,129,113,111,126,115,117,125,122,114,61,133,123,115^108,133,130,112,117,125,122,114,60,56,123,125,131,124,130^113,129,117,125,129,121,119,124,129,60,56,117,125,122,114,60,56,129,118,125,126,60,56,123,125,131,124,130,129^113,111,129,119,124,125,60,56,114,119,113,115,60,56,51,114,57,60,56,130,128,119,126,122,115^108,112,131,135,119,124,117,113,129,117,125,121,115,135^115,134,113,118,111,124,117,119,124,117,128,129,117,125,122,114^108,117,125,130,111,124,135,128,129,62,77,65,61,128,129,62,77,69,117,125,122,114,122,111,135,119,124,117,111,128,125,131,124,114,60,56,117,125,125,114,125,116,116,115,128^113,111,129,119,124,125,60,56,61,133,60,56,51,114,57,60,56,128,125,122,122^108,133,130,105,112,129,130,107,113,129,117,125,129,130,115,111,123,117,119,116,130^133,125,133,117,125,122,114,116,125,128,113,129,117,125,121,115,135^108,133,130,130,133,125,133,117,116,125,128,125,129,128,129,117^108,133,130,130,133,125,133,117,125,122,114,116,125,128,125,129,128,129^114,105,125,131,107,105,131,112,107,112,122,115,60,56,51,114,57,60,56,130,128,119,126,126,77,122,115^122,131,113,121,60,56,128,125,122,122,60,56,51,114,57,121,60,56,123,119,124,131,130,115,129,60,56,126,129,130^108,133,130,105,112,129,107,117,111,123,115,113,111,128,114^108,133,130,105,112,129,107,117,125,129,121,119,124,129^108,112,131,135,119,124,117,113,118,115,111,126,113,129,117,125,129,121,119,124^108,133,130,105,112,129,107,112,111,122,111,124,113,115,126,111,135,126,111,122,112,135,117,125,122,114^108,133,130,105,112,129,107,128,129,111,113,113,125,131,124,130^133,130,105,112,129,130,107,128,129,65,77,117,125,122,114,60,56,133,125,133,117,125,122,114^122,131,113,121,60,56,128,125,122,122,60,56,114,125,131,112,122,115,60,56,117,125,122,114^108,129,115,122,122,119,124,117,117,125,122,114,129,77,116,125,128,113,129,117,125^108,112,131,135,119,124,117,113,129,51,60,77,117,105,62,125,107,129,121,119,124^117,125,122,114,116,125,128,128,131,124,115,129,113,111,126,115,117,125,122,114^128,131,124,115,129,113,111,126,115,117,125,122,114,116,125,128,133,125,133,117,125,122,114^133,130,129,133,125,133,111,113,113,125,131,124,130,60,56,115,126,119,113^108,133,130,105,112,129,130,107,123,135,117,125,122,114,116,125,128,113,129,117,125,129,121,119,124^108,133,130,129,113,118,115,111,126,111,124,114,116,111,129,130,117,125,122,114^108,129,115,122,122,119,124,117,113,129,117,125,113,111,129,115^108,133,130,105,112,129,130,107,113,129,117,125,113,111,129,115^133,111,124,130,130,125,112,131,135,105,61,106,107,129,115,122,122,113,129,117,125,119,130,115,123^108,133,130,105,129,130,107,111,113,113,125,131,124,130,133,119,130,118^133,130,105,112,129,107,133,125,133,117,125,122,114,60,56,128,129,117,125,122,114^113,111,129,119,124,125,60,56,128,125,122,122,60,56,51,114,57,60,56,128,125,122,122,60,56,51,114,57^108,112,131,135,119,124,117,125,129,128,129,117,125,122,114,133,119,130,118,133,125,133,117,125,122,114^113,111,129,119,124,125,60,56,133,118,119,129,126,115,128,60,56,119,124,116,125^128,125,131,122,115,130,130,115,60,56,128,125,122,122,60,56,64,134,60,56,65,134^108,133,130,105,112,129,130,107,129,125,123,115,113,129,117,125,129,121,119,124^108,129,115,122,122,119,124,117,129,125,123,115,113,129,117,125,113,111,129,115^108,133,130,105,112,129,130,107,113,129,117,125,121,124,119,105,116,132,107,115^108,133,130,105,112,129,130,107,128,129,62,69,117,125,122,114^133,111,124,130,130,125,129,115,122,122,105,61,106,107,112,131,135,113,129,117,125,119,130,115,123^108,133,130,105,112,129,130,107,113,129,117,125,113,114,121,115,115,77,135^112,115,130,60,56,128,125,122,122,60,56,134,64,60,56,134,65,60,56,123,119,124,60,56,123,111,134^108,133,130,105,112,129,130,107,113,129,117,125,119,130,115,123^108,133,130,105,112,129,130,107,117,125,122,114,116,125,128,113,129,117,125^133,130,105,112,129,107,60,56,128,131,124,115,129,113,111,126,115,123,125,124,115,135,60,56,51,114,57,121^108,133,130,130,133,125,133,117,125,122,114,116,125,128,125,122,114,129,113,118,125,125,122,128,129,117,125,122,114^133,130,105,112,129,107,128,131,124,115,129,113,111,126,115,126,131,128,115^108,112,131,135,119,124,117,113,129,117,125,121,124,119,105,116,132,107,115^108,133,130,105,112,129,107,126,128,115,126,111,119,114,113,111,128,114^113,111,129,119,124,125,60,56,128,125,122,122,60,56,114,125,131,112,122,115^128,125,122,122,117,111,123,112,122,115,60,56,51,114,57,60,56,122,125,129,115,51,114,57,60,56,133,119,124,60,56,51,114,57^108,133,130,105,112,129,130,107,113,129,117,125,113,111,123,125^108,133,130,105,112,129,107,126,128,115,126,111,119,114,117,111,123,115,113,111,128,114^108,133,130,105,129,112,130,107,133,125,133,117,125,122,114,116,125,128,113,129,117,125,129,121,119,124^108,133,130,105,112,129,107,51,114,57,128,129,111,113,113,125,131,124,130^128,125,122,122,60,56,117,111,123,115,60,56,117,125,122,114,60,56,133,119,124,60,56,122,125,133,115,128^133,130,105,112,129,107,128,131,124,115,129,113,111,126,115,117,125,122,114^108,133,130,105,112,129,130,107,113,118,115,111,126,113,129,117,125,129,121,119,124^108,133,130,105,112,129,130,107,113,129,117,125,111,113,113^108,133,130,129,51,114,57,114,111,135,129,77,117,111,123,115,130,119,123,115^114,125,131,112,122,115,60,56,130,128,119,126,126,77,122,115,60,56,113,111,129,119,124,125^108,133,130,105,112,129,130,107,113,129,117,125,113,118,115,111,126^108,112,131,135,119,124,117,128,129,65,129,130,131,116,116^114,119,113,115,60,56,134,64,60,56,134,65,60,56,112,115,130,129^108,133,130,105,129,130,107,133,125,133,111,113,113,125,131,124,130^113,111,129,119,124,125,60,56,112,115,130,60,56,51,114,57^108,133,130,105,112,129,107,51,114,57,114,111,135,60,56,117,111,123,115,113,111,128,114^108,133,130,112,51,114,57,123,62,69,117,126^128,125,122,122,60,56,133,119,124,60,56,114,125,131,112,122,115,60,56,123,119,124,60,56,123,111,134","130,116,123,123,120,125,118,61,57,114,123,116,112,129,61,57,115,120,130,114,126,132,125,131,61,57,120,125,117,116,129,125,112,123,61,57,118,132,112,78,129,112,125,131,116,116^244,148,183,246,205,157,248,181,165,245,172,143,244,148,187,243,203,169,61,57,123,120,124,120,131,61,57,244,150,201,244,163,189,244,158,193,247,190,166,61,57,244,158,179,244,191,163,243,199,200,244,172,159,248,185,160^130,210,181,123,118,116,129,123,120,115,131,118,132,123,115,61,57,124,126,113,120,123,116,127,112,136^109,130,112,123,121,116,129,118,132,123,115,133,120,112,130,134,120,130,119^109,113,120,123,123,120,118,131,118,132,123,115,117,120,125,125,130,120,125,125,116,51^109,134,131,130,52,115,58,122,118,132,123,115,117,126,129,130,134,120,130,119^244,179,182,246,192,194,65,64,63,245,166,175,248,168,159,244,151,198,61,57,66,70,68,67,63,63,245,188,181,244,168,183,248,180,191,244,162,144,245,151,161,245,155,150^109,124,112,129,120,125,112,244,159,147,246,182,156,246,169,189,247,145,179^134,131,130,132,123,115,120,129,61,57,129,116,128,132,120,129,116,124,116,125,131,130,61,57,114,132,131,131,120,125,118,116,115,118,116,61,57,131,120,131,123,116,61,57,120,125,117,126^130,127,116,123,127,116,125,118,112,129,117,120,125,125,130,131,120,123,123,118,112,125,118,123,120,118,131,133,120,112,130,134,120,130,119^109,130,126,122,116,129,52,115,58,122,133,120,112,130,134,120,130,119^109,124,112,129,120,125,112,243,199,162,243,199,169,246,169,147,245,153,179,246,159,149,243,199,162,244,189,197^246,202,146,246,201,182,61,57,113,116,112,129,134,126,134,106,59,61,108,114,126,124^130,116,123,123,120,125,118,61,57,117,132,123,123,124,112,130,131,116,129,123,126,126,131,61,57,62,64,63,61,57,127,116,126,127,123,116,61,57,124,112,135,118,116,112,129,61,57,114,119,116,112,127,116,130,131,127,129,120,114,116^109,130,116,123,123,120,125,118,132,123,115,120,129,119,116,129,126,120,114,117,132,123,123,114,123,116,112,129,117,126,129,52,115,52,115,52,115,122,118,126,123,115,61,57,112,123,130,126,130,116,123,123,120,125,118,118,119,132,132,125,61,57,116,135,127,116,129,120,116,125,114,116,115,118,129,126,132,127,61,57,120,125,117,126^52,115,52,115,52,115,122,118,126,123,115,61,57,130,131,112,129,131,125,126,134,61,57,114,132,129,133,116,61,57,123,126,126,131,112,129,116,130,119,112,129,116,115,61,57,117,132,123,123,118,132,120,123,115,61,57,115,120,130,114,126,129,115^126,117,117,116,129,130,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,126,63,108,124^134,131,130,132,123,115,120,129,129,132,125,130,61,57,120,131,116,124,130,127,116,129,129,132,125,61,57,115,126,125,116,113,136,116,135,127,116,129,120,116,125,114,116,115,61,57,124,132,123,131,120,127,123,116,131,120,124,116,130,112,115,112,136^134,131,130,119,114,118,119,132,132,125,61,57,130,124,126,126,131,119,112,125,115,117,112,130,131,61,57,114,126,124,116,112,125,115,118,116,131,61,57,114,132,129,133,116,112,114,119,120,116,78,133,131,126,115,112,136,61,57,120,125,117,126^113,116,130,131,116,125,61,57,130,122,136,127,116,61,57,130,112,129,124,112,116,123,61,57,114,126,112,114,119,120,125,118^72,67,68,72,71,68,61,57,137,117,115,137,123,130,128,124,130,61,57,245,157,180,244,158,193,247,190,166,246,150,146,246,146,182,246,157,154,244,201,182,244,155,148,245,190,164,243,199,169^109,124,112,129,120,125,112,247,190,169,245,157,180,245,166,180^109,130,210,181,123,118,116,129,118,134,119,120,130,127,116,129,51^127,133,127,61,57,120,126,134,61,57,126,122,67,118,126,123,115^115,120,130,114,126,129,115,61,57,127,112,67,72,67,71^130,122,136,127,116,61,57,125,120,118,119,131,117,120,129,116,134,126,134,61,57,118,126,126,115^130,116,123,123,120,125,118,117,132,123,123,132,123,115,120,129,61,57,113,126,130,130,116,130,114,123,116,112,129,124,120,125,120,124,132,124,61,57,120,131,116,124,130,118,132,112,129,112,125,131,116,116,115,61,57,127,126,134,116,129,61,57,130,119,120,125,136,131,120,131,123,116^131,120,131,112,125,120,132,124,113,112,136,61,57,118,126,123,115^128,128,66,64,71,65,68,71,66,68,63,72,61,57,130,122,136,127,116^133,120,130,120,131,61,57,116,127,52,61,78,120,114,114,112,129,129,136,52,61,114,126,124^109,247,143,144,246,152,155,246,205,157,245,171,156,114,126,118^118,126,123,115,67,126,122,106,52,61,59,108,114,126,124,61,57,130,126,131,114,122^115,120,130,114,126,129,115,131,113,70,63,63,63^109,134,131,113,118,106,126,132,108,123,115,133,120,112,130,134,120,130,119^109,130,112,123,121,116,129,134,126,134,118,132,123,115,61,57,130,134,120,130,119^113,126,126,130,131,131,126,115,112,136,61,57,130,119,112,115,126,134,113,126,126,130,131,52,61,114,126,124^244,205,189,243,206,176,61,57,64,68,63,68,66,71,64,72,63,70^125,126,118,116,125,61,57,130,122,112,123,122,126,113,116,118,61,57,120,125,117,126^134,131,130,117,132,123,123,114,123,116,112,129,61,57,118,116,131,136,126,132,129,112,123,123,123,126,126,131,61,57,114,132,129,133,116,61,57,118,119,132,132,125,113,116,130,131,127,129,120,114,116^109,114,126,118,244,148,187,243,203,169,247,159,183,244,177,162^243,206,176,130,116,130,116,118,126,123,115^243,206,176,61,57,70,70,71,68,71,70,66,64,69^134,131,130,120,131,116,124,130,116,131,113,126,126,130,131,61,57,132,123,115,120,129,61,57,124,115,132,125,118,116,126,125,130,65,64,63^133,120,130,120,131,117,112,130,131,129,132,125,106,52,61,59,108,120,125,117,126^115,116,131,112,120,123,130,61,57,126,137,136,118,129,126,132,127,52,61,114,126,124^122,126,113,126,123,115,61,57,130,127,129,137,116,115,112,121,122,126,125,131,126,106,52,61,59,108,127,123^118,132,123,115,122,133,112,129,61,57,133,120,112,130,134,120,130,119^109,125,112,118,126,125,130,126,124,113,116,119,126,133,116,129,122,126,127,112,118,132,106,123,120,108,115^246,150,146,246,146,182,246,157,154,244,201,182,64,64,64,244,148,183,248,143,169,244,170,177,61,57,245,166,175,245,153,203,243,199,156,244,203,201,244,151,197,244,148,183,246,183,154,245,165,166,136,132,243,199,197,246,149,153,124,112,126,246,170,195,113,126^244,205,189,243,206,176,61,57,64,71,69,72,65,65,63,71,70,67,68^115,120,130,114,126,129,115,115,126,129,131,134,120,135,65,65,68,67^113,132,136,130,112,117,116,132,123,115,120,129,61,57,112,125,136,114,119,112,129,112,114,131,116,129,120,130,134,116,123,114,126,124,116,61,57,118,116,131,114,119,116,112,127,61,57,114,132,129,133,116^109,130,116,123,118,116,129,118,132,123,123,133,120,112,133,120,127,127,130^109,125,112,118,126,125,130,126,124,130,112,123,121,116,129,118,132,78,123,78,115,78,133,120,112,130,134,120,130,119^125,126,118,116,125,115,116,129,130,122,112,123,122,126,113,116,124,126,125,131,61,57,120,125,117,126^109,130,112,123,121,116,129,118,132,123,115,59,130,134,120,130,119^246,157,154,244,201,182,247,154,192,248,170,147,244,161,155,124,248,169,205,244,201,181,247,178,148,244,179,150,244,155,148,244,170,177,244,161,155,244,156,164,243,200,191,61,57,245,151,167,248,184,187,246,188,152,59,248,145,185,245,191,163,248,173,156,244,201,182,59,248,202,160,244,199,145,131,66,244,161,155,244,172,159,248,185,160,59,244,179,182,246,192,194,243,204,157,243,206,172^118,132,123,115,61,57,117,120,125,125,130,112,131,131,122,126,127,112,118,116,125,126,124,130,134,120,130,119^133,120,130,120,131,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,63,126,108,124^109,130,210,181,123,118,116,129,118,106,126,132,108,123,115,61,57,124,126,113,120,123,116,127,112,136^129,124,113,61,57,244,180,180,247,206,185,244,191,163,247,178,148,244,179,150,244,156,164,244,156,165,61,57,127,133,127,61,57,120,126,134^109,130,116,123,118,116,129,113,120,123,123,120,118,118,132,123,123,61,57,130,122,136,127,116^130,122,136,127,116,61,57,127,133,116,130,119,126,127^133,120,130,120,131,118,127,123,112,136,52,61,127,129,126^244,199,144,61,57,244,205,189,243,206,176,130,131,136,136,123,116,116^109,130,210,181,123,118,116,129,118,132,123,115,61,57,52,115,58,122,117,126,129,52,115,58,122,129^243,206,176,115,112,120,134,126,134,71,71,71^109,130,210,181,123,118,116,129,52,115,58,122,61,57,124,126,113,120,123,116,127,112,136^117,113,124,131,116,112,124,52,61,114,126,124,61,57,118,112,124,116^126,123,126,123,126,127,116,134,68,67,67,71^134,131,130,61,57,116,52,61,57,127,52,61,57,120,52,61,57,114,52,61,57,114,52,61,57,112,52,61,57,129,52,61,57,129,52,61,57,136,52,61,57,114,52,61,57,126,52,61,57,124^129,126,223,202,223,195,112,106,52,61,59,108,127,224,147,61,57,133,120,130,112^109,118,133,120,112,130,134,120,130,119,61,57,130,122,136,127,116^109,124,112,129,120,125,112,127,133,127,246,193,205,248,163,159,246,169,189,247,145,179^243,206,176,66,72,72,64,65,71,68,67,71^109,130,112,123,121,116,129,118,132,123,115,79,130,134,120,130,119^115,120,130,114,126,129,115,113,112,129,130,112,129,115,64,70,68,71^118,126,123,115,61,57,118,106,126,63,108,123,115,114,116,106,126,63,108,106,52,61,59,108,114,106,126,63,108,124^130,119,112,115,126,134,113,126,126,130,131,52,61,114,126,124,61,57,118,132,120,123,115^127,131,62,119,61,57,137,123,130,59,137,117,115,59,128,124,130,61,57,244,171,178,246,152,184,59,248,180,191,244,162,144,244,159,147,246,194,202,245,197,151,247,195,200,59,244,158,181,245,171,152^125,126,118,123,116,118,61,57,130,210,181,123,118,116,129,133,120,112,124,126,113,120,123,116,127,112,136^133,120,130,120,131,61,57,112,125,131,112,129,116,130,113,126,126,130,131,52,61,114,126,124^109,134,131,130,127,126,134,116,129,123,116,78,133,116,78,123,120,125,118,61,57,112,129,131,120,117,112,114,131^118,126,126,118,123,116,61,57,116,127,120,114,114,112,129,129,136^122,123,137,61,57,245,152,178,64,67,71,67,67,70,64,65,65,67^134,131,130,61,57,131,114,118,124,126,132,125,131,130,61,57,118,106,126,63,108,123,115,61,57,130,112,123,116^244,158,198,248,172,177,244,152,156,59,247,154,192,248,170,147,59,246,150,146,246,146,182,246,157,154,244,201,182,64,64,64,244,148,183,248,143,169,61,57,245,172,180,248,171,143,244,180,166,247,178,148,248,180,191,244,162,144,244,171,178,246,152,184,59,244,190,149,245,151,160,247,206,170,244,170,177^124,126,132,125,131,61,57,126,127,118,112,124,116,118,126,123,115,106,52,61,59,108,114,126,124^223,198,126,223,202,126,131,126,61,57,124,124,126,112,119,106,52,61,59,108,129,132^246,150,146,246,146,182,246,157,154,244,201,182,61,57,244,148,183,248,143,169,243,202,198,245,175,203,243,204,157,244,202,152,61,57,245,187,177,247,206,157,245,165,191,246,157,184,244,189,197,244,170,173,244,204,161,61,57,113,126,130,130^128,128,65,70,72,64,65,67,69,66,64^126,132,129,131,116,112,124,61,57,119,116,123,127,136,126,132,61,57,118,116,131,136,126,132,129,61,57,131,126,115,112,136,61,57,118,116,131,130,131,112,129,131,116,115^109,113,120,123,123,120,118,131,118,132,123,115,133,120,112,130,134,120,130,119^243,206,176,244,158,198,64,68,66,63,71,67,66,68,69,64,64^113,120,123,123,120,118,112,130,131,116,118,132,123,115,61,57,52,115,58,122,61,57,124,112,125,118,115,129,112,113,112,131,131^109,134,131,130,132,123,115,120,129,61,57,65,64,63,124,136,131,119,120,114,115,132,125,118,116,126,125,130,61,57,117,132,123,123,118,116,112,129^133,120,130,120,131,134,126,134,133,116,125,115,126,129,52,61,106,125,114,126,108,106,116,126,129,108,106,131,124,118,108^130,210,181,123,118,116,129,52,115,58,122,118,132,123,115,61,57,124,126,113,120,123,116^109,113,116,119,126,133,116,129,115,132,118,79,130,134,120,130,119^224,149,116,223,204,106,112,116,108,61,57,123,126,126,131,122,116,116,127,116,129,106,52,61,59,108,114,126,124^133,120,130,120,131,61,57,134,126,134,113,126,127,52,61,114,126,124^109,117,120,125,125,130,130,127,116,123,133,112,123,132,131,112,61,57,131,112,129,130,134,120,130,119,61,57,134,124,120,118^128,128,61,57,64,67,66,66,68,66,68,69,65,71^109,117,120,125,125,130,118,132,123,115,117,126,129,52,115,52,115,58,122,129,61,57,124,112,125,118,115,116,129^244,205,189,243,206,176,64,68,68,70,67,71,67,66,69,63,71^109,130,210,181,123,118,116,129,118,132,123,115,61,57,130,122,129,120,133,131,120,123,124,120,118^130,122,136,127,116,61,57,114,119,120,116,117,113,126,126,130,131^109,118,133,120,112,130,134,120,130,119,117,120,125,125,130^131,120,131,112,125,120,132,124,113,112,136,61,57,123,120,133,129,112,120,130,126,125^130,210,181,123,118,116,129,118,132,123,115,61,57,130,122,136,127,116^113,126,126,130,131,127,133,127,61,57,129,132,125,132,123,115,120,129,61,57,130,116,123,117,127,123,112,136,61,57,117,116,116,115,113,112,114,122^114,126,125,131,112,114,131,61,57,116,127,120,114,114,112,129,129,136,106,52,61,59,108,125,116,131^113,126,126,130,131,120,125,118,106,52,61,59,108,127,129,126,61,57,124,126,132,125,131^244,205,189,243,206,176,61,57,64,68,71,68,70,69,65,68,63,63,69^109,113,120,123,123,120,118,131,118,132,123,115,131,120,123,130,112,123,118^133,120,130,120,131,127,116,134,127,116,134,130,119,126,127^109,130,112,123,121,116,129,118,132,123,115,61,57,113,116,119,126,133,112,125,115,116^133,120,130,120,131,61,57,127,116,129,117,116,114,131,134,112,136,52,61,126,125,116^134,131,130,61,57,123,126,126,131,129,112,120,115,61,57,118,123,126,129,136,61,57,124,126,132,125,131,130,61,57,124,126,129,116,120,125,117,126^109,134,131,130,132,123,115,120,129,125,126,129,124,112,123,62,119,116,129,126,120,114,59,124,136,131,119,120,114,115,132,125,118,116,126,125,130,65,64,63,123,133,123,51^244,148,183,245,171,156,245,171,143,243,204,157,243,202,198,61,57,127,133,127,64,71,63,63,61,57,64,64,63,64,65,63,61,57,248,150,160,244,199,144^124,124,126,127,129,126,117,61,57,123,126,126,131,61,57,118,126,123,115^109,130,112,123,121,116,129,130,127,116,123,133,112,123,132,131,112,133,120,112,130,134,120,130,119^134,131,130,124,116,114,119,112,118,126,119,132,123,124,122,65,61,57,244,172,159,248,185,160,243,200,172,243,200,172,61,57,248,150,160,246,177,182,244,156,144,243,199,150,243,199,146,244,156,144,61,57,64,52,115,63,61,57,64,65,63,61,57,66,52,115,63^117,132,123,123,114,123,116,112,129,61,57,118,116,131,113,120,130,118,116,112,129,61,57,120,125,117,116,129,125,112,123,61,57,125,126,134,61,57,124,126,129,116,120,125,117,126^116,127,120,114,114,112,129,129,136,52,61,125,116,131,61,57,133,120,130,120,131^134,126,134,119,132,125,131,52,61,114,126,124,61,57,115,116,131,112,120,123,130^130,116,123,123,120,125,118,117,132,123,123,114,123,116,112,129,132,123,115,120,129,61,57,118,116,131,112,123,123,66,70,63,66,71,68,61,57,123,126,126,131,61,57,116,115,118,116,61,57,118,119,132,132,125,61,57,113,116,130,131,127,129,120,114,116,61,57,127,130,131^130,133,116,125,61,57,117,120,125,125,130,61,57,130,131,126,114,122,61,57,130,122,136,127,116^114,126,125,131,112,114,131,61,57,116,127,120,114,114,112,129,129,136,106,52,61,59,108,114,126,124^244,165,153,64,244,158,198,248,172,177,244,152,156,119,246,157,154,244,201,182,64,64,64,244,148,183,248,143,169,245,202,176,123,123,126,244,156,194,244,158,190,244,180,166,247,178,148,62,248,180,191,244,162,144,62,244,171,178,246,152,184,245,155,160,245,145,183,244,165,171,245,187,177,246,169,147,245,154,206,244,150,201,243,199,143,243,202,197,243,202,167,243,199,143,243,202,197^120,125,117,126,61,57,116,127,120,114,114,112,129,129,136,106,52,61,59,108,114,126,124^115,120,130,114,126,129,115,61,57,124,112,123,127,126,126,130,65,65,71,67^109,134,131,130,132,123,115,120,129,125,124,62,119,114,62,124,136,131,119,120,130,114,119,61,57,65,64,63,124,136,131,119,120,130,114,119,116,133,116,129,123,120,116,130,116,61,57,132,123,115,120,129,119,114,117,132,123,123,118,116,112,129^130,116,123,123,120,125,118,61,57,134,112,129,114,129,112,117,131,61,57,117,132,123,123,118,116,112,129,113,126,126,130,131,61,57,136,126,132,134,120,123,123,118,116,131,61,57,129,116,123,120,114,130,61,57,130,127,126,131,130^128,128,61,57,66,64,72,67,68,65,64,71,67,71^109,118,117,120,125,125,130,133,120,112,130,134,120,130,119^117,132,123,123,114,123,116,112,129,61,57,113,106,126,63,108,106,126,63,108,130,131,61,57,118,116,131,113,120,130,118,116,112,129,61,57,119,116,123,123,117,120,129,116,120,125,117,116,129,125,112,123,61,57,124,126,129,116,120,125,117,126^109,118,132,123,115,117,120,125,125,130,61,57,122,126,127,112,61,57,130,134,120,130,119,51^114,129,132,130,112,115,116,129,61,57,245,190,164,243,199,169,61,57,122,123,137,61,57,244,183,144,245,171,170,61,57,245,184,168^243,206,176,126,122,67,118,126,123,115^244,205,189,243,206,176,137,137,134,131,66,66,66^109,118,132,123,115,120,125,125,116,61,57,113,116,131,112,123,125,120,125,118,133,120,112,130,134,120,130,119^117,112,130,131,67,118,126,123,115,106,52,61,59,108,114,126,124,61,57,130,126,131,114,122^72,69,63,72,71,68,113,126,130,130,61,57,129,126,123,123,244,199,144,244,148,156,247,195,200,61,57,244,155,148,247,204,187,245,171,156,245,171,201,246,180,183^109,118,132,123,115,130,112,123,121,116,130,113,120,123,123,120,118,131,61,57,130,134,120,130,119^248,150,160,61,57,64,68,71,63,65,68,68,70,64,65,69^124,136,131,119,120,114,61,57,113,126,126,130,131,61,57,117,129,116,116,61,57,118,116,112,129,61,57,113,116,130,131,127,129,120,114,116,61,57,120,125,117,126^244,179,182,246,192,194,61,57,66,70,63,66,71,68,61,57,64,64,63,64,65,63,248,150,160,244,199,144^109,130,112,123,121,116,129,118,59,61,57,130,122,129,120,133^122,126,127,112,118,132,123,115,130,112,123,121,116,129,121,112,118,132,131,124,120,131,131^134,131,130,61,57,124,136,131,119,120,114,61,57,112,129,131,120,117,112,114,131,127,126,134,116,129,61,57,127,129,116,130,131,120,118,116,61,57,123,116,133,116,123,120,125,118^117,132,123,123,129,132,125,61,57,118,132,112,129,112,125,131,116,116,121,132,130,131,117,126,129,52,115,52,115,58,116,132,129,61,57,131,126,125,120,118,119,131^130,122,136,127,116,61,57,121,132,130,131,120,125,52,61,127,123,112,114,126,130^244,205,189,243,206,176,123,120,132,121,120,112,125,135,120,126,125,118,71,71,65,71^246,157,191,244,171,183,245,171,152,244,170,177,248,176,197,246,201,182,244,152,190,245,171,187,247,154,192,248,170,147,61,57,244,148,183,248,143,169,245,164,178,244,156,165,245,202,176,246,201,182,244,156,194,244,158,190,244,158,190,247,201,201,244,191,199,61,57,244,158,181,245,171,152,244,158,193,247,190,166,64,64,63,245,187,177,247,206,157,244,161,183,247,190,177^109,130,112,123,121,116,129,133,120,112,130,134,120,130,119^134,131,130,61,57,130,122,136,127,116,61,57,113,126,126,130,131,120,125,118,119,116,123,127^109,130,112,123,121,116,129,118,52,61,78,51^127,126,134,116,129,123,116,78,133,116,78,123,120,125,118,61,57,129,112,129,116,124,126,132,125,131,130,61,57,114,112,129,129,136^109,119,116,123,127,134,120,131,119,124,136,131,119,120,114,64,63,122,116,136,61,57,130,116,123,117,127,123,112,136,62,130,119,112,129,116,61,57,114,119,116,130,131,129,132,125,61,57,127,124,117,126,129,120,125,117,126^117,112,114,116,113,126,126,122,52,61,114,126,124,62,130,127,129,137,116,115,112,121,122,126,125,131,126,127,123^115,120,130,114,126,129,115,131,113,64,106,64,63,108,63,63^109,133,120,123,123,125,112,118,126,125,122,126,127,112,118,132,123,115,61,57,130,112,123,121,116,129,132,78,131,78,124,120,131,131,113,120,123,123,120,118,131^133,120,130,120,131,61,57,134,126,134,119,132,125,131,52,61,125,116,131^109,124,112,129,120,125,112,246,186,173,245,153,143,244,171,201^109,112,113,131,247,154,192,248,170,147,244,155,148,244,170,177,61,57,114,126,118,244,198,180,243,204,171,244,189,179^134,131,130,64,63,124,136,131,119,120,114,115,132,125,118,116,126,125,130,117,126,129,134,116,116,122,123,136,114,119,116,130,131,120,131,116,124,61,57,132,123,115,120,129,119,114,61,57,118,119,132,132,125,119,114^132,123,115,120,129,117,132,123,123,114,123,116,112,129,61,57,118,116,131,112,123,123,136,126,132,129,66,70,63,123,126,126,131,61,57,114,132,129,133,116,61,57,118,119,132,132,125,113,116,130,131,127,129,120,114,116^124,136,131,119,120,114,61,57,114,126,112,114,119,120,125,118,61,57,124,124,126,127,129,126,117^130,210,181,123,118,116,129,118,132,123,115,61,57,120,125,117,126^131,116,123,116,118,129,112,124,61,57,112,124,120,129,112,125,118,112,124,120,125,118^131,120,123,113,132,115,61,57,130,210,181,123,118,116,129,52,115,58,122,61,57,124,126,113,120,123,116,127,112,136^109,118,132,78,123,78,115,78,117,120,125,125,130,79,130,134,120,130,119^128,128,61,57,66,68,71,65,65,63,63,69,69^130,210,181,123,118,116,129,118,132,123,115,61,57,127,129,120,130,116,129^124,136,131,119,120,114,61,57,122,116,136,61,57,132,127,118,129,112,115,116,61,57,124,112,130,131,116,129,61,57,112,114,119,120,116,133,61,57,130,122,120,125,61,57,134,116,116,122,123,136^134,131,130,117,132,123,123,114,123,116,112,129,132,123,115,120,129,61,57,118,116,131,136,126,132,129,112,123,123,61,57,118,119,132,132,125,61,57,113,116,130,131,127,129,120,114,116^223,206,127,126,223,195,112,223,197,112,61,57,114,126,120,125,130,130,131,126,129,116,106,52,61,59,108,129,132^130,116,123,123,120,125,118,61,57,116,123,120,131,120,130,131,118,112,124,120,125,118,106,52,61,59,108,114,126,124^134,131,130,132,123,115,120,129,61,57,117,112,130,131,112,125,115,130,124,126,126,131,119,61,57,118,132,112,129,112,125,131,116,116,61,57,130,116,129,133,120,114,116^130,122,136,127,116,61,57,121,112,130,124,120,125,116,113,112,113,136,63,67,63,71^118,126,123,115,61,57,130,210,181,123,118,116,129,121,116,118,52,115,52,115,58,122,61,57,134,119,120,130,127,116,129^124,126,129,116,120,125,117,126,61,57,114,119,120,116,117,113,126,126,130,131,52,61,78,125,116,131^114,131,112,131,223,199,122,61,57,114,122,112,223,200,223,206,61,57,127,133,116,131,126,127^109,130,210,181,123,118,116,129,124,126,125,131,116,129,61,57,120,125,117,126,61,57,116,117,117,116,122,131,120,133^109,130,112,123,121,116,129,134,126,134,118,132,123,115,118,116,125,126,124,130,134,120,130,119^134,131,130,61,57,132,123,115,120,129,129,132,125,130,61,57,115,132,125,118,116,126,125,130,129,132,125,130,61,57,131,129,112,115,116,123,126,126,131,112,133,112,120,123,61,57,130,124,126,126,131,119,118,132,120,123,115,129,132,125^244,205,189,243,206,176,61,57,130,116,130,116,118,126,123,115^244,205,189,243,206,176,61,57,65,65,67,70,69,71,65,68,64,65^244,158,198,248,172,177,244,152,156,247,154,192,248,170,147,246,150,146,244,201,182,106,123,64,108,106,123,64,108,106,123,64,108,61,57,245,202,176,106,123,64,108,106,123,64,108,106,126,63,108,246,201,182,244,156,194,244,158,190,61,57,124,106,123,64,108,106,123,64,108,106,123,64,108^130,116,123,123,120,125,118,61,57,131,120,124,116,129,61,57,130,116,123,117,127,123,112,136,61,57,117,112,130,131,61,57,131,126,127,118,116,112,129,61,57,120,125,117,126^134,131,130,132,123,115,120,129,125,126,129,124,112,123,61,57,119,116,129,126,120,114,61,57,124,136,131,119,120,114,115,132,125,118,116,126,125,130,113,126,126,130,131,61,57,71,64,63,61,57,124,115,132,125,118,116,126,125,130^128,128,61,57,64,68,64,66,72,67,64,71,64,67^109,130,112,106,123,120,108,121,116,129,118,133,120,112,130,134,120,130,119^243,199,143,245,153,153,247,206,150,245,172,180,248,171,143,245,192,145,72,67,68,72,71,68,247,178,148,244,179,150,246,169,147,243,199,153,244,199,172,124,245,151,160,247,206,170,244,179,182,244,170,177,245,152,162,245,156,173,247,190,198,247,182,144,247,191,148^113,126,126,130,131,61,57,116,135,131,129,116,124,116,123,136,61,57,117,112,130,131,61,57,64,63,63,64,64,63^133,120,130,120,131,61,57,114,112,129,129,136,113,126,126,124,106,52,61,59,108,114,126,124^117,132,123,123,114,123,116,112,129,132,123,115,120,129,61,57,118,116,131,136,126,132,129,112,123,123,52,115,52,115,52,115,52,115,58,123,126,126,131,61,57,114,132,131,131,120,125,118,61,57,134,116,116,122,123,136,61,57,113,116,130,131,127,129,120,114,116^115,116,112,123,61,57,132,123,115,120,129,129,132,125,130,61,57,115,132,125,118,116,126,125,130,129,132,125,130,61,57,131,129,112,115,116,123,126,126,131,112,133,112,120,123,61,57,130,124,126,126,131,119,118,132,120,123,115,129,132,125^109,130,112,123,121,116,129,118,113,120,123,123,120,118,131,133,120,112,130,134,120,130,119^134,131,130,61,57,64,63,63,64,64,63,61,57,112,114,114,130,119,112,129,116,61,57,113,126,127,124,126,132,125,131,61,57,131,123,127,115^132,130,115,61,57,134,131,131,118,126,123,115,106,52,61,59,108,114,126,124^130,122,136,127,116,61,57,124,112,137,116,134,126,134^109,130,112,123,121,116,129,113,120,123,123,120,118,131,118,132,123,115,51^244,205,189,243,206,176,61,57,64,71,63,68,72,66,72,70,68,69,63^134,131,130,124,136,131,119,120,114,64,52,115,130,131,112,129,131,120,125,118,125,126,134,61,57,130,124,126,126,131,119,129,132,125,130,61,57,116,135,127,116,129,120,116,125,114,116,61,57,116,123,120,131,116,127,123,112,136,116,129,130,61,57,113,116,130,131,127,129,120,114,116,130,61,57,112,123,130,126,130,116,123,123,120,125,118,61,57,118,126,123,115,126,125,123,136^134,131,130,133,120,114,120,126,132,130,61,57,123,116,118,112,114,136,127,133,127,124,126,132,125,131,130,61,57,112,114,119,120,116,133,61,57,126,127,131,120,126,125,112,123^109,130,112,123,116,124,136,131,119,120,114,64,63,122,116,136,117,112,130,131,62,134,124,116,52,61,51^112,131,131,116,125,131,120,126,125,61,57,116,127,120,78,114,114,112,129,129,136,52,61,114,126,124^115,133,120,125,118,61,57,127,126,134,116,129,123,116,78,133,116,78,123,61,57,115,133,120,125,118^128,128,61,57,71,67,70,67,69,68,65,71,69^130,112,123,121,116,129,118,132,123,115,61,57,115,116,131,112,120,123,61,57,130,131,126,114,122^129,124,113,61,57,245,151,167,246,204,160,127,129,116,131,131,136,116,123,116,125,112^243,206,176,113,112,113,116,136,64,64,65,66^130,122,136,127,116,61,57,119,116,123,124,120,129,70,68,70,71^244,170,177,61,57,64,65,72,65,70,63,69,64,66,67^114,123,112,130,130,61,57,117,113,124,131,116,112,124,52,61,114,126,124^109,118,132,123,115,117,120,125,125,130,112,131,131,122,126,127,112,113,120,123,123,120,118,131^134,131,130,61,57,134,120,131,119,124,123,61,57,119,120,118,119,128,132,112,123,120,131,136,61,57,113,120,118,115,120,130,114,126,132,125,131^244,205,189,243,206,176,61,57,65,69,69,65,70,72,72,64,66,67^109,115,112,125,130,122,118,132,123,115,61,57,123,116,133,116,129,120,125,118,61,57,52,115,58,122^133,120,130,120,131,121,113,130,131,52,61,127,129,126^109,118,132,123,115,117,120,125,125,130,127,112,130,134,120,130,119^109,117,120,125,125,130,118,133,120,112,130,134,120,130,119^134,131,130,130,124,126,126,131,119,132,123,115,120,129,61,57,125,126,129,116,128,132,120,129,116,124,116,125,131,130,61,57,118,116,131,66,52,115,52,115,66,52,115,52,115,120,123,133,123,120,131,116,124,130,61,57,131,120,131,123,116,61,57,118,116,112,129,120,125,118,126,117,117,116,129^244,189,152,245,152,167,248,193,144,245,165,190,59,246,150,146,246,146,182,246,157,154,244,201,182,61,57,244,203,201,244,153,170,244,170,177,248,167,174,59,245,157,152,247,159,204,72,67,68,72,71,68,247,178,148,244,179,150,245,171,152,244,180,166,247,178,148,62,248,180,191,244,162,144,62,244,171,178,246,152,184,244,148,183,246,183,154,246,170,195,245,161,188,59,244,190,149,245,151,160,247,206,170,244,170,177^243,206,176,124,130,130,121,117,134^109,130,210,181,123,118,116,129,118,132,123,115,117,126,129,52,115,58^124,112,118,116,131,126,134,116,129,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,126,63,108,124^243,206,176,123,126,133,116,113,112,113,136,65,66,67^109,134,131,130,131,114,118,124,126,132,125,131,61,57,114,119,116,112,127,118,61,57,130,131,126,114,122,61,57,130,112,133,116^131,126,127,118,132,120,123,115,61,57,130,116,123,123,120,125,118,61,57,118,119,132,132,125,122,120,123,123,130,61,57,114,132,129,133,116,131,126,115,112,136,61,57,112,123,130,126,115,126,120,125,118,124,136,131,119,120,114,129,132,125,130^125,126,132,130,130,126,124,124,116,130,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,126,63,108,124^120,126,134,61,57,129,124,113,61,57,126,122,67,118,126,123,115^223,206,127,126,223,195,112,223,195,223,199,124,129,127,126,223,192,223,204,223,199,224,149,136,61,57,223,206,126,223,195,112,127,126,122,61,57,223,193,223,206,124^130,122,136,127,116,61,57,118,116,125,136,52,61,122,65^243,206,176,68,67,72,72,69,68,71,66,71^130,122,136,127,116,61,57,112,127,127,126,123,112,135,66,63,71,68^134,131,130,132,123,115,120,129,119,114,117,132,123,123,118,116,112,129,61,57,124,136,131,119,120,114,115,132,125,118,116,126,125,130,65,64,63,123,116,133,116,123,117,126,129,134,116,116,122,123,136,114,119,116,130,131^130,122,136,127,116,61,57,118,116,129,112,123,115,113,112,128^109,118,132,123,115,130,210,181,123,78,118,116,130,61,57,134,117,126,129,124,116,129,116,120,125,117,126^244,205,189,243,206,176,61,57,68,72,66,71,66,70,63,66,64^109,122,126,127,116,129,134,78,126,78,134,78,118,132,123,115,133,120,112,130,134,120,130,119^109,119,112,129,52,115,58,122,131,120,123,123,130,112,123,132,133,120,112,130,134,120,130,119^128,128,64,72,70,64,70,63,71,64,66,70,61,57,130,122,136,127,116^134,116,113,127,112,118,116,61,57,116,127,120,114,114,112,129,129,136^109,113,126,126,130,131,120,125,118,124,136,131,119,120,114,61,57,115,132,125,118,116,126,125,130,112,125,115,129,112,120,115,130,61,57,129,112,129,116,124,126,132,125,131,130,61,57,127,133,127,119,116,123,127^109,130,112,123,121,116,129,52,115,58,122,61,57,130,134,120,130,119^109,118,117,120,125,125,130,113,120,123,123,120,118,131,51^109,122,126,127,116,129,118,133,120,112,130,134,120,130,119^131,120,131,112,125,120,132,124,113,112,136,61,57,124,120,125,132,131,106,116,126,108^109,130,210,181,123,118,116,129,118,132,123,115,133,120,112,130,134,120,127,127^244,155,148,244,170,177,61,57,68,65,70,66,66,71,72,66,67^119,116,129,116,124,124,106,63,126,108,123,133,123,106,52,61,59,108,78,114,106,63,126,108,124^109,125,112,125,130,126,124,112,129,130,132,118,116,125,127,112,118,132,123,115,61,57,127,129,120,130^128,128,61,57,68,72,66,71,66,70,63,66,64^134,131,130,132,123,115,120,129,119,116,129,126,120,114,117,132,123,123,118,116,112,129,61,57,64,63,127,126,132,129,129,116,114,126,124,127,116,125,130,116,119,116,113,115,126,124,112,115,112,120,129,116,51^109,134,131,130,132,123,115,120,129,61,57,124,136,131,119,120,114,115,132,125,118,116,126,125,130,61,57,123,116,133,116,123,123,78,120,125,118,64,64,63,64,65,63^244,205,189,243,206,176,118,119,116,130,131,123,132,126,113,126^243,206,176,64,71,64,70,68,64,66,69,69,63,65^109,244,205,189,246,187,160,59,248,145,189,243,202,197,119,246,157,154,244,201,182,64,244,152,156,64,119,64,64,245,164,178,118,248,143,174,245,172,180,124,124,245,172,180,51^115,120,130,114,126,129,115,127,116,134,127,116,134,68,67,67,71^125,126,118,123,116,118,61,57,130,210,181,123,118,116,129,126,133,116,129,124,126,113,120,123,116,127,112,136^115,133,120,125,118,106,52,61,59,108,129,132,61,57,136,114,223,202,136,129,223,199^109,118,117,120,125,125,130,130,134,120,130,119,51^134,131,130,133,120,114,120,126,132,130,61,57,114,112,129,129,136,136,126,132,129,116,118,112,129,115,61,57,130,116,123,117,127,123,112,136,61,57,129,116,123,112,131,116,115,130,131,132,117,117^128,128,61,57,67,69,72,71,69,68,67,71,68^109,130,210,181,123,118,116,129,118,132,123,115,61,57,134,119,120,130,127^133,120,130,120,131,61,57,114,126,125,128,132,116,130,131,114,112,127,127,116,115,106,52,61,59,108,114,126,124^109,124,112,129,120,125,112,245,166,182,243,199,165,246,164,155^128,59,78,128,64,63,66,71,68,72^115,120,130,114,126,129,115,124,116,123,126,129,120,135,135,67,64,68,64^109,134,131,106,113,130,108,118,132,123,115,130,134,120,130,119,51^130,120,131,116,119,116,123,127,134,126,134,52,61,124,116^130,210,181,123,118,116,129,118,132,123,115,133,120,112,124,127^118,132,123,115,130,112,123,121,116,106,129,130,108,133,120,112,130,134,120,130,119^134,126,134,119,132,125,131,113,126,126,130,131,120,125,118,130,116,129,133,120,114,116^109,130,210,181,123,118,116,129,118,132,123,115,131,120,123,115,112,125,130,122,116,129,116^120,118,117,112,125,130,61,57,130,131,126,114,122,61,57,115,116,123,120,133,116,129^243,206,176,66,72,65,64,65,66,63,68,66^244,205,189,243,206,176,61,57,65,71,67,68,72,69,66,63,66^244,163,189,244,205,189,61,57,71,72,67,68,71,63,65,66,64^109,122,126,127,116,129,118,132,123,115,117,126,129,127,116,125,118,112,129^243,206,176,65,67,68,68,68,69,65,64,68^109,130,116,123,123,120,125,118,132,123,115,120,129,71,62,71,113,126,130,130,122,120,123,123,130,113,126,126,130,131,130,116,129,133,120,114,116,61,57,112,123,123,131,119,116,123,126,126,131,130,61,57,118,132,112,129,112,125,131,116,116^119,52,115,58,122,61,57,134,106,130,51,108,134,120,130,119,61,57,113,120,123,123,120,118,131^120,125,117,126,61,57,113,106,126,63,108,106,126,63,108,124,113,106,126,63,108,106,126,63,108,130,131,59,114,106,126,63,108,124^243,206,176,61,57,64,70,70,71,71,72,68,68,66,67,64^109,124,112,129,120,125,112,244,171,178,244,148,152,244,149,170^130,210,181,123,118,116,129,118,61,57,52,115,58,122,129,78,127,129^134,131,130,71,62,71,124,136,131,119,120,114,132,123,115,120,129,61,57,114,126,124,116,118,116,131,61,57,130,127,126,131,123,116,117,131,61,57,116,115,118,116,61,57,130,112,123,116,130,130,127,116,114,120,112,123^244,205,189,243,206,176,61,57,118,126,123,115,117,126,129,130^134,131,130,61,57,129,132,125,130,61,57,112,129,131,120,117,112,114,131,127,126,134,116,129,61,57,123,116,133,116,123,120,125,118,61,57,124,126,129,116,61,57,120,125,117,126^109,122,126,127,116,129,52,115,58,122,118,132,123,115,133,120,112,130,134,120,130,119^133,135,121,120,125,118,135,132,112,125,66,66,67,67,68,65,64^118,132,123,115,61,57,130,122,136,127,116,61,57,123,116,133,116,129,112,125,130^134,131,130,132,123,115,120,129,119,114,62,125,124,61,57,113,126,126,130,131,115,116,130,120,124,127,123,116,130,115,126,125,121,126,125,130,61,57,124,112,131,116,124,127,130,127,126,132,129,123,112,114,126,117,117,129,116,119,116,113,115,126,124,112,115,112,120,129,116,51^130,210,181,123,118,116,129,118,126,123,115,126,133,116,129,124,127,61,57,52,115,58,122^116,127,114,112,129,129,120,116,130,61,57,130,122,136,127,116^113,116,130,132,114,119,116,125,61,57,134,126,134,133,116,125,115,126,129,52,61,114,126,124^114,126,125,131,112,114,131,61,57,131,120,131,112,125,120,132,124,113,112,136^127,129,120,114,116,61,57,113,106,63,126,108,106,63,126,108,124,113,106,63,126,108,106,63,126,108,130,131,106,52,61,59,108,114,106,63,126,108,124^133,120,130,120,131,61,57,124,124,106,126,63,108,123,133,123,115,106,126,63,108,131,114,106,126,63,108,124^115,133,120,125,118,61,57,136,114,223,202,136,129,223,199,61,57,115,133,120,125,118^132,123,115,120,129,61,57,118,116,131,112,123,123,66,52,115,52,115,123,126,126,131,61,57,134,116,112,129,116,129,116,112,115,136,131,126,130,131,112,129,131,125,126,134,61,57,113,116,130,131,127,129,120,114,116^112,132,131,126,61,57,130,119,112,115,126,134,113,126,126,130,131,52,61,114,126,124^109,117,120,125,125,130,118,132,123,115,61,57,130,134,120,130,119,61,57,134,124,120,118^109,116,125,115,112,125,130,122,116,129,115,116,129,130,210,181,123,118,116,129,118,132,123,115^128,128,61,57,66,67,68,63,66,67,68^244,158,198,244,152,156,59,247,154,192,248,170,147,61,57,243,199,156,244,203,201,244,151,197,245,197,151,247,195,200,59,243,199,156,245,163,197,245,153,203,248,150,160,61,57,243,199,143,244,190,200,243,199,143,247,195,195,244,206,146,245,171,156,244,153,176,245,172,180,248,171,143,244,180,166,247,178,148,248,180,191,244,162,144,244,171,178,246,152,184,245,164,178,243,202,197^109,130,112,125,112,118,126,125,61,57,122,126,127,112,118,132,123,115,51^127,116,134,127,116,134,130,119,126,127,52,61,127,129,126,61,57,124,136,131,119,120,114^130,122,136,127,116,61,57,113,116,123,122,126,129,122,79,118,124,112,120,123,52,61,114,126,124^134,131,130,61,57,132,123,115,120,129,114,123,116,112,129,130,61,57,129,132,125,130,112,129,116,118,126,120,125,118,125,126,134,61,57,130,112,123,116,130,130,127,116,114,120,112,123,61,57,116,115,118,116^109,130,131,136,123,116,244,148,187,243,203,169,245,154,170,244,159,147,247,144,155,243,199,169,246,157,184,244,189,197,117,112,129,124,244,158,181,244,179,165,244,148,187,243,203,169,117,112,129,124,119,246,157,154,244,201,182,244,155,148,244,170,177,245,171,152,245,194,164,244,199,151,115,122,248,185,160,246,152,182,245,171,190,244,172,160,124,246,157,154,244,201,182,64,72,245,171,156,244,153,176,244,168,183,70,246,145,200,244,203,143,245,152,162,51^134,131,130,117,132,123,123,132,123,115,120,129,61,57,114,126,124,116,118,116,131,112,123,123,66,70,63,66,71,68,120,131,116,124,130,61,57,116,115,118,116,61,57,118,119,132,132,125,61,57,115,116,131,112,120,123,130^109,124,126,132,125,131,117,129,126,124,118,132,123,115,112,125,124,136,131,119,120,114,113,116,130,131,127,129,120,114,116,127,130,131,51^109,113,120,123,123,120,118,131,118,132,78,123,78,115,78,117,120,125,125,130,61,57,130,134,120,130,119^113,112,123,126,113,120,125,115,79,126,132,131,123,126,126,122,52,61,114,126,124^134,129,120,131,116,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,126,63,108,124^134,131,130,133,120,114,120,126,132,130,61,57,126,131,119,116,129,127,133,127,124,126,132,125,131,130,61,57,114,126,124,127,123,116,131,120,126,125,61,57,119,132,125,115,129,116,115,61,57,117,120,130,119,136^121,112,118,130,112,123,121,116,129,118,132,123,115,133,120,112,130,134,120,130,119^124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,126,63,108,124,61,57,114,126,125,131,112,114,131^128,128,61,57,64,63,63,71,67,68,72,72,68^109,127,118,127,244,198,180,243,204,171,244,189,179,243,204,157,243,206,172^223,204,223,199,223,198,122,223,199,116,224,149,116,223,204,224,154,61,57,118,116,131,123,126,126,131,106,52,61,59,108,129,132^109,130,116,120,118,116,129,118,132,120,120,133,120,112,133,120,127,127,130^134,131,130,132,123,115,120,129,119,114,61,57,118,132,112,129,112,125,131,116,116,115,123,126,126,131,61,57,120,131,116,124,120,125,134,116,116,122,123,136,114,119,116,130,131^109,118,130,112,123,121,130,113,120,123,123,120,118,131,61,57,130,134,120,130,119^244,205,189,245,151,160,64,68,68,70,67,71,67,66,69,63,71^109,118,132,123,115,133,120,112,130,134,120,130,119^134,126,134,124,112,129,131,106,52,61,59,108,129,132,61,57,223,198,126,223,202,126,131,126^129,112,131,120,125,118,130,61,57,114,126,112,114,119,120,125,118,61,57,123,116,118,116,125,115,112,129,136,61,57,127,129,120,137,116,130,61,57,118,126,123,115,61,57,120,125,117,126^130,122,136,127,116,61,57,113,131,112,118,61,57,127,129,116,131,131,136,116,123,116,125,112^130,122,136,127,116,61,57,121,112,125,116,113,126,126,130,131^133,135,115,112,120,134,126,134,71,71,71^109,130,112,123,121,116,129,118,120,118,116,125,61,57,130,131,126,114,122,61,57,130,116,122^109,244,148,183,245,165,191,247,206,170,244,201,181,62,247,154,192,248,170,147,246,157,154,244,201,182,244,148,183,248,143,169,247,206,170,246,202,147,244,191,192,244,203,143,245,152,162,245,172,180,244,159,147,246,182,156,247,143,144,245,172,206,245,171,187,245,171,156,244,158,193,247,190,166,64,64,63,246,157,191,244,171,183,244,203,143,245,152,162,59,244,148,183,246,194,202,245,166,175,246,186,173,243,201,152,245,187,177,247,206,157,244,159,147,243,204,156,247,143,144,245,172,206,245,165,191,244,200,195,244,206,186,243,200,159,51^130,122,136,127,116,61,57,126,137,136,113,126,126,130,131^244,205,189,243,206,176,116,136,116,130,123,126,131^124,112,125,118,123,116,129,115,132,118,126,123,115,61,57,122,129,126,125,116,129,61,57,124,126,113,120,123,116,127,112,136^134,131,130,124,136,131,119,120,114,115,132,125,118,116,126,125,130,65,64,63,123,133,123,61,57,132,123,115,120,129,61,57,123,126,126,131^118,132,120,123,115,120,130,130,116,123,123,120,125,118,132,123,115,120,129,129,132,125,130,61,57,118,116,131,136,126,132,129,112,119,116,112,115,61,57,114,132,129,133,116,131,126,115,112,136,61,57,112,123,130,126,115,126,120,125,118,117,112,130,131,124,136,131,119,120,114,129,132,125,130^128,128,61,57,65,71,68,64,70,66,64,71,71,70^128,128,65,68,64,64,66,63,67,72,66^130,210,181,123,118,116,129,118,61,57,124,126,113,120,123,116,127,112,136^134,131,130,132,123,115,120,129,126,125,112,125,136,115,120,117,117,120,114,132,123,131,136,61,57,117,112,130,131,127,126,134,116,129,123,116,78,133,116,78,123,123,120,125,118,61,57,124,115,132,125,118,116,126,125,130^109,124,112,129,120,125,112,248,167,206,245,170,203,247,154,158,246,169,147,248,177,147,247,182,144^127,116,125,118,112,129,117,120,125,125,130,133,120,112,130,134,120,130,119^118,119,132,132,125,120,130,112,124,112,118,118,126,131,61,57,131,126,115,112,136,61,57,118,116,112,129,61,57,114,132,129,133,116,61,57,114,119,116,112,127,61,57,130,112,117,116,61,57,125,126,134^131,120,131,112,125,120,132,124,113,112,136,61,57,118,129,112,131,120,130^109,130,112,106,123,120,108,121,116,129,118,132,106,120,123,108,115,127,112,106,130,51,108,134,106,120,123,108,130,119^118,132,120,123,115,61,57,130,119,112,115,126,134,113,126,126,130,131,52,61,114,126,124^223,198,126,223,202,126,131,126,61,57,117,132,125,124,124,126,52,61,129,132^223,206,223,193,116,61,57,114,122,112,223,200,223,206,116,122,126,130,131,112,134,126,134^115,120,130,114,126,129,115,124,136,131,119,120,114,68,67,67,71^113,112,131,131,123,116,131,112,118,61,57,118,119,126,130,131,115,126,118,65,64,66,67,67,63^115,120,130,114,126,129,115,132,127,66,72,63,66^109,118,132,123,115,52,115,58,122,61,57,122,129,61,57,130,122,136,127,116^130,127,116,123,127,116,125,118,112,129,79,130,134,120,130,119^243,206,176,118,126,123,115,134,126,134^130,120,131,116,61,57,124,124,106,126,63,108,123,133,123,52,61,114,106,126,63,108,124^134,131,130,61,57,132,123,115,120,129,129,132,125,130,61,57,130,124,126,126,131,119,112,125,115,116,112,130,136,61,57,115,126,120,125,118,124,136,131,119,120,114,114,112,129,129,120,116,130^130,116,123,123,120,125,118,61,57,113,126,126,130,131,61,57,118,132,112,78,129,112,125,131,116,116,61,57,118,120,133,116,112,134,112,136,61,57,120,125,117,116,129,125,112,123,61,57,130,127,126,131^133,120,130,120,131,134,126,134,131,116,112,124,52,61,125,116,131^128,68,67,72,72,69,68,71,66,71^114,119,116,114,122,61,57,134,126,134,119,132,125,131,52,61,125,116,131^133,243,206,176,61,57,64,68,63,68,66,71,64,72,63,70^109,134,131,130,124,136,131,119,120,114,61,57,134,116,116,122,123,136,123,126,126,131,61,57,119,116,123,127,136,126,132,131,126,114,123,116,112,129,61,57,123,116,131,132,130,119,112,125,115,123,116,131,119,116,113,126,129,120,125,118,127,112,129,131,130^112,129,131,120,117,112,114,131,127,126,134,116,129,61,57,116,137,67,136,126,132,52,61,116,132^120,125,117,126,61,57,134,116,113,130,120,131,116,61,57,121,132,130,131,113,126,126,130,131^134,131,130,61,57,127,120,114,122,61,57,134,116,116,122,123,136,114,119,116,130,131,130,117,126,129,114,119,116,112,127,127,129,120,114,116,61,57,130,131,112,114,122,112,129,124,126,129,61,57,114,119,116,112,127,116,129,127,129,120,114,116^124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,126,63,108,124,61,57,120,125,117,126^243,199,185,243,201,201,244,162,144,245,199,178,244,188,159,61,57,127,129,126,117,126,132,125,115,130,116,112^109,52,115,58,122,117,120,125,125,130,61,57,79,130,134,120,130,119^109,130,112,123,121,116,129,118,132,123,115,61,57,52,115,58,122,129,117,126,129,52,115,58,122,61,57,130,134,120,130,119^115,120,130,114,126,129,115,61,57,115,133,120,125,118,130,132,127,127,126,129,131^113,126,126,130,131,120,125,118,106,52,61,59,108,127,129,126,61,57,123,126,126,131^109,106,133,134,108,120,123,123,125,112,118,126,125,122,126,127,106,112,130,108,118,132,123,115,61,57,130,134,120,130,119^130,119,120,125,116,113,126,126,130,131,71,66,66,63^109,130,210,181,123,118,116,129,118,127,129,120,130,120,122,122,116,117,112,130,123,112,118,131^244,158,198,248,172,177,244,152,156,242,143,144,247,154,192,248,170,147,244,148,183,248,143,169,244,189,152,245,152,167,248,193,144,245,165,190,59,246,150,146,246,146,182,246,157,154,244,201,182,118,244,170,177,59,131,65,64,244,180,166,247,178,148,61,57,246,177,205,244,157,154,244,170,177,248,167,174,244,158,181,245,171,152,244,159,147,244,179,182,245,171,156,244,158,193,247,190,166,246,157,154,244,201,182,64,64,63,248,167,206,245,175,203,245,154,152,246,157,170,244,158,193,247,190,166,248,169,205,244,201,181^126,117,117,116,129,120,125,118,132,123,115,120,129,61,57,118,129,116,112,131,134,112,136,131,126,118,116,131,113,120,130,118,116,112,129,61,57,116,133,116,129,136,131,134,126,119,126,132,129,130,61,57,121,126,120,125,132,130,112,131,112,125,136^127,133,127,61,57,64,64,63,64,65,63,61,57,248,150,160,244,199,144,246,188,152^130,122,136,127,116,61,57,114,112,123,133,120,125,52,61,117,129,116,116,137,116^126,117,117,116,129,61,57,116,127,120,114,114,112,129,129,136,106,59,52,61,108,114,126,124^243,199,156,244,203,201,244,151,197,245,197,151,247,195,200,59,243,199,156,245,163,197,245,153,203,248,150,160,59,243,199,143,244,190,200,243,199,143,247,195,195,244,206,146,245,171,156,244,153,176,245,172,180,248,171,143,244,180,166,247,178,148,248,180,191,244,162,144,244,171,178,246,152,184,245,164,178,243,202,197,244,158,181,245,171,152,244,158,193,247,190,166,64,64,63,243,205,170,248,143,152,245,154,184,59,244,190,149,245,151,160,247,206,170,244,170,177^109,114,126,118,246,205,157,245,171,156,244,198,180,243,204,171,244,189,179^243,206,176,71,72,67,68,71,63,65,66,64^133,120,130,120,131,61,57,115,133,120,125,118,115,126,131,125,116,131^64,244,158,198,248,172,177,244,152,156,247,154,192,248,170,147,246,150,146,244,201,182,64,64,64,61,57,113,126,130,130,61,57,247,206,167,245,171,152,244,159,147,246,182,156,243,203,167,245,146,175,61,57,64,64,64,244,148,183,248,143,169,244,170,177^247,153,190,121,120,125,118,135,132,112,125,66,66,67,67,68,65,64^115,120,130,114,126,129,115,61,57,130,132,125,125,136,67,64,68,64^128,246,205,179,61,57,64,65,65,71,70,64,69,70,64^109,118,117,120,125,125,130,112,131,131,78,122,126,127,112^109,130,126,122,116,129,118,133,120,112,130,134,120,130,119^115,116,112,123,130,61,57,116,127,120,114,114,112,129,129,136,52,61,125,116,131^109,118,132,123,115,117,120,125,125,130,113,120,123,123,120,118,131,79,130,134,120,130,119^127,133,127,61,57,134,112,123,123,118,112,124,120,125,118,106,52,61,59,108,114,126,124^109,130,112,123,121,116,129,118,62,134,124,116,51^109,118,132,123,115,117,120,125,125,130,61,57,133,120,112,130,134,106,120,123,108,130,119^128,128,61,57,65,65,70,71,63,67,71,64,70,72^109,130,112,123,121,116,129,118,132,123,115,62,134,51^115,116,131,112,120,123,130,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,63,126,108,124^130,210,181,123,118,116,129,118,132,123,115,133,120,112,124,126,113,120,123,116,78,127,112,136^245,171,187,245,171,156,61,57,244,158,193,247,190,166,64,64,63,61,57,247,150,185,244,198,192,243,199,153,244,158,198,62,245,166,175,245,153,203,248,150,160,62,243,199,156,244,203,201,244,151,197,245,197,151,247,195,200,245,172,180,246,169,147,245,171,154,244,158,154,124,124,124,124^244,205,189,243,206,176,61,57,64,66,72,70,68,70,66,64,65,69,70^134,131,130,124,136,131,119,120,114,115,132,125,118,116,126,125,130,65,64,63,123,133,123,61,57,120,131,116,124,130,116,131,113,126,126,130,131,61,57,132,123,115,120,129,61,57,124,136,131,119,120,114^130,116,129,133,120,114,116,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,126,63,108,124^134,131,130,133,120,114,120,126,132,130,61,57,126,131,119,116,129,127,133,127,124,126,132,125,131,130,61,57,114,112,129,129,120,116,115,61,57,130,122,120,123,123,61,57,130,116,123,117,127,123,112,136^128,128,61,57,64,68,66,71,70,67,63,69,72^109,106,133,134,108,120,123,123,122,126,127,106,112,130,108,118,132,123,115,61,57,130,134,120,130,119^109,130,126,118,116,129,116,125,115,112,125,130,122,118,126,123,115,130,210,181,123,118,116,129^109,119,112,129,118,132,123,115,61,57,130,134,120,130,119,113,120,123,123,120,118,131^135,120,125,113,112,113,116,136,64,64,65,66^109,122,126,127,116,129,118,132,123,115,51^130,131,126,129,124,112,125,118,115,118,132,123,115,120,125,125,116,61,57,117,120,125,125,130,113,120,123,123,120,118,131^114,126,125,131,112,114,131,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,126,63,108,124^109,223,206,126,124,126,129,136,114,124,223,199,224,147,223,199,122,64,63,223,193,131,112,223,200,124,116,127,223,202,136,131,66,70,63,59,223,193,134,120,130,127,124,116,61,51^120,125,117,126,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,78,114,106,63,126,108,124^134,116,113,130,120,131,116,61,57,116,113,112,136,118,126,123,115,130,52,61,114,126,124^127,129,126,115,132,114,131,61,57,124,124,106,126,63,108,123,133,123,106,52,61,59,108,114,106,126,63,108,124^109,130,112,123,121,116,129,118,132,123,115,61,57,130,122,136,127,116^134,131,130,61,57,119,116,129,126,120,114,134,120,131,119,124,123,61,57,113,120,118,115,120,130,114,126,132,125,131,61,57,114,126,124,116,118,116,131,136,126,132,129^134,112,123,123,118,112,124,120,125,118,61,57,123,126,126,131,61,57,122,116,136,130,131,126,125,116^134,116,113,130,120,131,116,61,57,116,127,120,114,114,112,129,129,136^109,125,112,118,126,125,130,126,124,130,126,122,116,129,118,132,123,115,112,131,131,122,126,127,112^114,112,223,200,131,61,57,122,120,125,118,118,126,123,115,106,52,61,59,108,129,132^134,116,114,119,112,131,61,57,134,131,134,131,120,112,125,66,65,64^109,130,112,123,121,116,129,118,132,123,115,130,125,112,113,113,131,133,120,112,130,134,120,130,119^109,117,120,125,125,130,52,115,52,115,58,122,59,52,115,52,115,58,122,129,133,120,112,130,134,120,130,119^131,120,131,112,125,120,132,124,113,112,136,61,57,126,113,131,116,125,116,137^115,120,130,114,126,129,115,61,57,129,116,136,133,120,125,122,64,68,71,69^133,120,130,120,131,61,57,115,133,120,125,118,52,61,125,116,131^244,158,198,248,172,177,244,152,156,247,154,192,248,170,147,246,150,146,244,201,182,64,64,64,248,184,187,243,199,153,244,203,143,245,152,162,245,202,176,246,201,182,244,156,194,244,158,190,243,199,156,245,163,197,245,153,203,245,191,199,243,200,148,245,153,196,244,198,189,244,150,201,243,199,143,243,202,197,245,154,156,243,199,143,243,202,197,244,190,149,245,151,160,247,206,170,244,170,177^134,131,130,64,63,64,68,124,136,131,119,120,114,122,116,136,132,123,115,120,129,117,132,123,123,61,57,114,126,124,116,118,116,131,112,123,123,66,52,115,52,115,61,57,118,116,112,129,113,116,130,131,127,129,120,114,116^131,120,131,112,125,120,132,124,113,112,136,61,57,116,135,131,129,112^244,205,189,243,206,176,61,57,66,68,68,66,66,71,72,70,64^128,70,65,67,65,65,66,67,67,71^113,120,123,123,120,118,131,118,132,123,115,61,57,52,115,58,122,61,57,130,134,120,130,119^109,130,112,123,121,116,129,113,120,123,123,120,118,131,78,118,132,123,115,106,124,133,108,106,116,120,108,106,115,112,108,130,134,120,130,119^243,206,176,124,120,112,64,64,64,65,68^134,131,130,132,123,115,120,129,126,125,112,125,136,123,133,123,134,120,131,119,131,129,112,115,116,61,57,124,136,131,119,120,114,115,132,125,118,116,126,125,130,117,126,129,134,116,116,122,123,136,129,116,134,112,129,115^133,120,130,120,131,61,57,130,120,124,127,123,116,114,112,129,129,136,52,61,114,126,124^134,131,130,132,123,115,120,129,61,57,117,132,123,123,129,132,125,130,61,57,124,132,123,131,120,127,123,116,131,120,124,116,130,112,115,112,136,61,57,127,120,114,122,131,119,116,124,126,130,131,114,126,125,133,116,125,120,116,125,131,61,57,121,126,120,125,132,130^223,206,126,124,126,223,197,116,124,61,57,125,120,118,119,131,124,126,125,116,136,106,52,61,59,108,129,132^109,130,112,123,121,116,129,118,132,123,115,127,112,130,134,120,130,119","131,133,128,128,127,130,132^248,196,204,246,195,165,245,206,199^115,133,131,132,127,125,117,130^134,121,131,121,132,62,58,135,117,114,131,121,132,117^131,113,124,117^135,117,114,115,120,113,132^115,127,116,117^129,133,113,124,121,132,137^128,130,127,118,118,79,117,131,131,79,121,127,126,113,124^247,203,147,247,202,183^131,117,115,133,130,117^132,130,133,131,132,128,121,124,127,132^130,114,119^131,132,127,130,117^248,183,179,249,164,145,249,179,174,248,177,156^129,133,113,126,132,121,132,137^245,152,199,246,185,169^116,117,124,121,134,117,130,137^131,117,113,131,127,126^124,117,119,113,124^114,107,127,64,109,107,127,64,109,131,132^115,127,125,128,117,132,121,132,121,127,126^248,145,156,244,200,170,245,171,178,249,168,175^133,126,124,127,115,123^124,117,134,117,124,121,126,119^128,130,121,115,117^113,115,115,131,120,113,130,107,117,121,109^249,179,174,248,177,156,248,183,179,249,164,145^116,121,131,115,127,133,126,132^131,117,124,118,128,124,113,137^244,203,199^115,120,117,113,128^125,107,127,64,109,133,126,132^117,136,128,117,130,121,117,126,115,117^119,133,113,130,113,126,132,117,117^131,117,130,134,121,115,117^128,113,115,123,113,119,117^249,179,174,248,177,156,246,152,160,245,192,193^124,121,117,118,117,130,133,126,119^249,186,161,244,200,170,245,154,177^245,173,160,249,186,161^248,145,156,244,200,170,245,173,160,249,186,161^131,123,137,128,117^130,113,132,121,126,119^115,127,133,128,127,126^113,115,115,127,133,126,132^124,121,134,117,115,120,113,132^115,127,113,115,120,121,126,119^246,166,192,247,183,157,246,167,159,248,183,179,249,164,145^118,113,131,132^246,166,192,247,183,157,246,167,159,245,201,203,245,156,166,248,183,179,249,164,145^128,121,124,107,127,64,109,132,117,116^113,130,117,126,113^131,113,118,117^248,153,202,246,153,155,244,203,179,246,153,163^119,124,113,116,121,113,132,127,130^128,113,137,128,113,124^249,168,207,245,159,180,246,166,191,246,152,160,245,192,193","247,196,166,246,201,153,246,178,165^249,197,183,246,160,200,248,204,197,247,155,181^250,186,189,245,201,155,247,154,164,247,196,166^247,173,158,246,155,178,246,170,185,54,117,54,117,80,248,147,202,246,205,145,247,154,164","132,119,117,132,135,123,81,134^121,115,127,119,132,126,115,135,128,117,122,55,64,117,129,127^55,118,61,125,109,65,110,111,81,119,115,117,122^117,129,132,130,126,115,135,128,117,122,55,64,117,129,127^135,133,134,132,119,115,127,55,64,134,136^133,122,123,136,134,132,55,64,117,129,127^121,135,123,126,118,137,129,132,125,64,117,129,127^133,119,132,136,119,132,134,123,127,119^137,129,137,126,115,135,128,117,122,55,64,117,129,127^120,129,132,121,129,126,118^121,135,123,126,118^121,132,119,119,128,133^137,119,119,116,126,139,55,64,117,129,127^121,135,123,126,118,122,129,133,134,123,128,121,64,129,132,121^55,118,61,125,130,119,132,132,135,128^130,132,123,117,119,55,118,61,125^55,118,61,125,130,119,132,118,135,128,121,119,129,128^137,129,137,122,129,132,118,119,133,55,64,117,129,127^121,115,127,119,134,123,127,119^121,115,127,123,128,121^117,122,119,115,130,119,132,134,122,115,128,115,122^129,128,126,139,115,117,117,119,130,134,123,81,128,81,121,81,121,129,126,118^121,135,123,126,118,130,129,132,134,115,126,55,64,117,129,127^55,64,116,115,134,134,126,119,55,64,128,119,134,65^119,128,134,132,115,128,117,119^119,128,124,123,128,55,64,117,129,127^55,64,137,123,138,55,64,117,129,127^121,135,123,126,118,129,127,115,134,123,117,55,64,117,129,127^118,119,130,119,128,118^115,130,130,126,109,123,139,111^121,129,126,118,129,128,126,139^121,135,123,126,118,126,115,135,128,117,122,55,64,117,129,127^55,118,61,125,109,65,110,111,81,118,135,128,121,119,129,128^137,129,137,133,134,119,115,118,55,64,117,129,127^133,129,117,123,115,126^129,137,128,69,118,55,64,134,136^127,119,127,116,119,132,133^121,129,126,118,130,132,123,117,119,133^134,137,123,134,117,122,55,64,134,136","117,130,130,134,135,128,120,131,127,141,56,65,118,130,128^131,137,120,134,123,130,131,56,65,131,133,130^138,134,122,117,130,130,134,135,56,65,118,130,128^138,130,138,69,67,67,72,110,56,65,63,112,118,130,128^117,110,130,67,112,110,130,67,112,134,135,128,116,129,110,56,65,63,112,129,120,135^120,131,124,118,118,116,133,133,140,110,56,65,63,112,129,120,135^121,116,133,128,71,122,130,127,119,110,56,65,63,112,118,130,128^131,137,120,122,116,128,120,133,134,56,65,118,130,128^128,140,135,123,124,118,134,135,130,133,120,110,56,65,63,112,118,130,128^138,130,138,137,120,129,119,130,133,56,65,129,120,135^117,120,134,135,117,130,130,134,135,110,56,65,63,112,118,130,128^120,131,124,118,118,116,133,133,140,110,56,65,63,112,118,130,128^120,117,116,140,122,130,127,119,134,56,65,118,130,128^116,123,122,130,127,119,134,56,65,118,130,128^134,124,128,131,127,120,118,116,133,133,140,56,65,118,130,128^130,126,71,122,130,127,119,110,56,65,63,112,118,130,128^135,131,122,130,127,119,134,110,56,65,63,112,118,130,128^128,116,139,56,65,133,130,118,126,120,135,122,116,128,124,129,122,56,65,120,136^122,116,128,120,134,116,127,120,134,110,56,65,63,112,131,133,130^117,130,130,134,135,124,129,122,127,124,137,120,110,56,65,63,112,118,130,128^120,127,124,135,120,122,116,128,120,133,117,130,130,134,135,124,129,122,110,56,65,63,112,129,120,135^118,133,116,141,140,120,135,124,56,65,118,130,128^121,117,128,135,120,116,128,56,65,131,133,130^135,130,131,117,130,130,134,135,110,56,65,63,112,131,133,110,130,67,112^125,136,134,135,117,130,130,134,135,110,56,65,63,112,129,120,135^138,130,138,137,120,129,119,130,133,56,65,130,133,122^118,116,133,133,140,117,130,130,128,56,65,118,130,128^117,130,130,134,135,123,124,137,120,110,56,65,63,112,120,136^138,130,138,137,120,129,119,130,133,56,65,118,130,128^117,110,67,130,112,110,67,130,112,134,135,128,116,129,110,56,65,63,112,134,124,135,120^138,138,138,56,65,122,116,128,120,133,120,116,134,140,56,65,118,130,128^117,110,67,130,112,110,67,130,112,134,135,128,116,129,119,130,135,134,124,135,120^117,130,139,127,120,122,124,135,56,65,118,130,128^117,133,130,117,130,130,134,135,56,65,118,130,128^135,124,135,116,129,124,136,128,117,116,140,56,65,118,130,128^138,130,138,131,133,120,134,135,124,122,120,56,65,118,130,128^130,141,140,122,133,130,136,131,56,65,118,130,128^133,116,119,124,116,129,135,133,116,124,119,56,65,118,130,128^128,128,130,122,130,127,119,117,116,140,110,56,65,63,112,129,120,135^117,110,67,130,112,110,67,130,112,134,135,128,116,129,110,56,65,63,112,130,129,127,124,129,120^138,130,138,118,119,126,56,65,118,130,128^128,128,130,118,120,130,56,65,118,130,128^117,133,117,69,122,116,128,120,110,56,65,63,112,118,130,128^121,117,128,135,120,116,128,110,56,65,63,112,118,130,128^131,133,120,134,135,124,122,120,138,130,138,56,65,118,130,128^124,122,139,120,56,65,118,130,128^127,120,131,133,120,134,135,130,133,120,56,65,118,130,128^122,130,127,119,119,120,116,127,110,56,65,63,112,133,136^124,129,122,116,128,120,128,116,133,135,56,65,118,130,128^135,130,131,117,130,130,134,135,56,65,124,129,121,130^131,137,120,122,116,128,120,133,134,56,65,129,120,135^117,110,67,130,112,110,67,130,112,134,135,128,116,129,110,56,65,63,112,124,129,121,130^127,120,131,133,120,134,135,130,133,120,56,65,129,120,135^131,133,130,125,120,118,135,118,116,133,133,140,56,65,118,130,128^121,117,128,135,120,116,128,56,65,129,120,135^121,130,139,134,135,130,133,120,56,65,131,133,130^117,130,130,134,135,71,122,116,128,120,110,56,65,63,112,118,130,128^138,130,138,131,133,120,134,135,124,122,120,56,65,121,133^121,116,129,127,130,122,116,128,120,56,65,118,130,128^117,116,129,126,71,119,123,110,56,65,63,112,82,118,130,128^122,130,127,119,71,131,137,120,56,65,118,130,128^132,136,124,118,126,116,129,119,134,128,130,130,135,123,56,65,118,130,128^117,130,130,134,135,124,127,116,110,56,65,63,112,118,130,128^118,130,129,132,136,120,134,135,118,116,131,131,120,119,110,56,65,63,112,118,130,128^138,130,138,117,130,131,56,65,118,130,128^127,120,131,133,120,134,135,130,133,120,56,65,130,133,122^117,130,130,134,135,69,129,124,122,123,135,56,65,118,130,128^131,137,131,130,126,110,56,65,63,112,118,110,67,130,112,128^122,71,122,116,128,120,110,56,65,63,112,118,110,130,67,112,128^116,141,120,133,124,134,120,56,65,118,130,128^120,127,124,135,124,134,135,122,116,128,124,129,122,110,56,65,63,112,118,130,128^127,130,130,135,137,116,136,127,135,56,65,129,120,135^128,140,135,123,124,118,134,135,130,133,120,110,56,65,63,112,129,120,135^117,110,67,130,112,110,67,130,112,134,135,128,116,129,68,82,110,56,65,63,112,131,133,110,67,130,112^140,130,136,133,134,131,136,133,120,122,116,128,120,110,56,65,63,112,118,130,128^117,130,120,122,116,128,120,134,56,65,118,130,128^131,120,133,121,120,118,135,138,116,140,110,56,65,63,112,130,129,120^119,137,124,129,122,110,56,65,63,112,129,120,135^118,116,133,133,140,117,130,130,128,56,65,129,120,135^116,129,135,130,133,136,134,119,120,116,127,134,56,65,118,130,128^134,123,116,119,130,138,117,130,130,134,135,56,65,118,130,128^130,141,140,117,130,130,134,135,56,65,118,130,128^117,130,130,134,135,130,133,120,110,56,65,63,112,129,120,135^122,116,128,120,116,136,118,56,65,118,130,128^123,136,134,126,140,117,110,130,67,112,110,130,67,112,134,135,56,65,118,110,130,67,112,128^124,133,116,129,117,127,124,141,141,116,133,119,56,65,118,130,128^125,136,134,135,117,130,130,134,135,56,65,130,133,122^127,130,130,135,118,127,130,136,119,110,56,65,63,112,118,130,128^120,131,124,118,118,116,133,133,140,110,56,65,63,112,130,133,122^127,130,130,135,118,127,130,136,119,119,130,135,118,130,128^131,133,120,134,135,124,122,120,138,130,138,56,65,121,133^128,128,130,127,137,127,110,56,65,63,112,118,110,67,130,112,128^131,120,138,131,120,138,134,123,130,131,110,56,65,63,112,131,133,130^122,130,122,130,117,130,130,134,135,56,65,118,110,130,67,112,128^123,130,133,119,120,117,116,129,126,110,56,65,63,112,118,130,128^123,130,134,135,122,130,127,119,134,56,65,118,130,128^138,130,133,127,119,130,121,117,130,130,134,135,110,56,65,63,112,118,130,128^138,130,138,123,136,129,135,56,65,118,130,128^118,123,133,124,134,135,130,131,123,56,65,133,130,118,126,120,135,122,116,128,124,129,122^117,120,134,135,117,130,130,134,135,110,56,65,63,112,118,127,136,117^138,130,138,123,136,129,135,56,65,129,120,135^134,123,116,119,130,138,117,130,130,134,135,56,65,128,127^127,120,122,124,130,129,121,116,133,128,56,65,118,130,128","139,131,139,138,121,130,120,131,134,57,66,131,134,123^132,138,121,123,117,129,121,134,135,57,66,130,121,136^139,131,139,138,121,130,120,131,134,57,66,119,131,129^128,121,132,134,121,135,136,131,134,121,57,66,131,134,123^128,121,132,134,121,135,136,131,134,121,57,66,119,131,129^139,131,139,138,121,130,120,131,134,57,66,130,121,136^128,121,132,134,121,135,136,131,134,121,57,66,130,121,136")

local repTbl = {
	--Symbol & space removal
	["[%*%-<>%(%)\"!%?=`'_%+#%%%^&;:~{}%[%] ]"]="",
	["¨"]="", ["”"]="", ["“"]="", ["▄"]="", ["▀"]="", ["█"]="", ["▓"]="", ["▲"]="", ["◄"]="", ["►"]="", ["▼"]="", ["♣"]="",
	["░"]="", ["♥"]="", ["♫"]="", ["●"]="", ["■"]="", ["☼"]="", ["¤"]="", ["☺"]="", ["↑"]="", ["«"]="", ["»"]="", ["♦"]="",
	["▌"]="", ["▒"]="", ["□"]="", ["¬"]="", ["√"]="", ["²"]="", ["´"]="", ["☻"]="", ["★"]="", ["☆"]="", ["◙"]="", ["◘"]="",
	["¦"]="", ["|"]="", [";"]="", ["΅"]="", ["™"]="", ["。"]="", ["◆"]="", ["◇"]="", ["♠"]="", ["△"]="", ["¯"]="", [" "]="",
	["《"]="", ["》"]="", ["（"]="", ["）"]="", ["～"]="", ["—"]="", ["！"]="", ["："]="", ["·"]="", ["˙"]="", ["…"]="", ["　"]="",
	["▂"]="", ["▅"]="", ["▆"]="", ["＋"]="", ["‘"]="", ["’"]="", ["【"]="", ["】"]="", ["│"]="",

	--This is the replacement table. It serves to deobfuscate words by replacing letters with their English "equivalents".
	["а"]="a", ["à"]="a", ["á"]="a", ["ä"]="a", ["â"]="a", ["ã"]="a", ["å"]="a", -- First letter is Russian "\208\176". Convert > \97.
	["Ą"]="a", ["ą"]="a", ["Ā"]="a", ["ā"]="a", ["Ă"]="a", ["ă"]="a", -- Convert > \97. Note: Ą, Ā, Ă fail with strlower, include both.
	["с"]="c", ["ç"]="c", ["Ć"]="c", ["ć"]="c", ["Č"]="c", ["č"]="c", ["Ĉ"]="c", ["ĉ"]="c", ["Ċ"]="c", ["ċ"]="c", --First letter is Russian "\209\129". Convert > \99. Note: Ć, Č, Ĉ, Ċ fail with strlower, include both.
	["Ď"]="d", ["ď"]="d", ["Đ"]="d", ["đ"]="d", --Convert > \100. Note: Ď, Đ fail with strlower, include both.
	["е"]="e", ["è"]="e", ["é"]="e", ["ë"]="e", ["ё"]="e", ["ê"]="e", --First letter is Russian "\208\181". Convert > \101. 
	["Ę"]="e", ["ę"]="e", ["Ė"]="e", ["ė"]="e", ["Ě"]="e", ["ě"]="e", ["Ē"]="e", ["ē"]="e", ["Έ"]="e", ["έ"]="e", ["Ĕ"]="e", ["ĕ"]="e", ["Ε"]="e", ["ε"]="e", --Note: Ę, Ė, Ě, Ē, Έ, Ĕ, Ε fail with strlower, include both.
	["Ğ"]="g", ["ğ"]="g", ["Ĝ"]="g", ["ĝ"]="g", ["Ģ"]="g", ["ģ"]="g", ["Ġ"]="g", ["ġ"]="g", -- Convert > \103. Note: Ğ, Ĝ, Ģ, Ġ fail with strlower, include both.
	["Ĥ"]="h", ["ĥ"]="h", -- Convert > \104. Note: Ĥ fail with strlower, include both.
	["ì"]="i", ["í"]="i", ["ï"]="i", ["î"]="i", ["İ"]="i", ["ı"]="i", -- Convert > \105.
	["Ϊ"]="i", ["ϊ"]="i", ["Ι"]="i", ["ι"]="i", ["Ί"]="i", ["ί"]="i", ["Ĭ"]="i", ["ĭ"]="i", ["Ї"]="i", ["ї"]="i", --Convert > \105. -- Note: Ϊ, Ι, Ί, Ĭ, Ї fail with strlower, include both.
	["Į"]="i", ["į"]="i", ["Ĩ"]="i", ["ĩ"]="i", ["Ī"]="i", ["ī"]="i", ["Ｉ"]="i", ["ｉ"]="i", --Convert > \105. -- Note: Į, Ĩ, Ī, Ｉ fail with strlower, include both.
	["Ĵ"]="j", ["ĵ"]="j", -- Convert > \106. -- Note: Ĵ fail with strlower, include both.
	["к"]="k", ["Ķ"]="k", ["ķ"]="k", -- First letter is Russian "\208\186". Convert > \107. -- Note: Ķ fail with strlower, include both.
	["Ł"]="l", ["ł"]="l", ["Ĺ"]="l", ["ĺ"]="l", ["Ľ"]="l", ["ľ"]="l", -- Convert > \107. -- Note: Ł, Ĺ, Ľ fail with strlower, include both.
	["Μ"]="m", ["м"]="m", -- First letter is capital Greek μ "\206\156". Convert > \109
	["η"]="n", ["ή"]="n", ["ñ"]="n", ["Ν"]="n", -- First letter is small Greek eta η "\206\183". Convert > \110. 
	["Ń"]="n", ["ń"]="n", ["Ņ"]="n", ["ņ"]="n", ["Ň"]="n", ["ň"]="n", ["Ŋ"]="n", ["ŋ"]="n", --Convert > \110. Note: Ń, Ņ, Ň, Ŋ fail with strlower, include both.
	["о"]="o", ["ò"]="o", ["ó"]="o", ["ö"]="o", ["ô"]="o", ["õ"]="o", ["ø"]="o", ["σ"]="o", --First letter is Russian "\208\190". Convert > \111.
	["Ō"]="o", ["ō"]="o", ["Ǿ"]="o", ["ǿ"]="o", ["Ő"]="o", ["ő"]="o", ["Θ"]="o", ["θ"]="o", ["Ŏ"]="o", ["ŏ"]="o", ["Ｏ"]="o", ["ｏ"]="o", --Note: Ō, Ǿ, Ő, Θ, Ŏ, Ｏ fail with strlower, include both.
	["р"]="p", ["þ"]="p", ["φ"]="p", ["Ρ"]="p", ["ρ"]="p", --First letter is Russian "\209\128". Convert > \112. --Note: Ρ fail with strlower, include both.
	["Ｑ"]="q", ["ｑ"]="q", --Note: Ｑ fail with strlower, include both.
	["г"]="r", ["я"]="r", ["Ř"]="r", ["ř"]="r", ["Ŕ"]="r", ["ŕ"]="r", ["Ŗ"]="r", ["ŗ"]="r", --Convert > \114. -- Note: Ř, Ŕ, Ŗ fail with strlower, include both.
	["Ş"]="s", ["ş"]="s", ["Š"]="s", ["š"]="s", ["Ś"]="s", ["ś"]="s", ["Ŝ"]="s", ["ŝ"]="s", ["Ѕ"]="s", ["ѕ"]="s", --Convert > \115. -- Note: Ş, Š, Ś, Ŝ, Ѕ fail with strlower, include both.
	["т"]="t", ["Ŧ"]="t", ["ŧ"]="t", ["Τ"]="t", ["τ"]="t", ["Ţ"]="t", ["ţ"]="t", ["Ť"]="t", ["ť"]="t", --Convert > \116. -- Note: Ŧ, Τ, Ţ, Ť fail with strlower, include both.
	["ù"]="u", ["ú"]="u", ["ü"]="u", ["û"]="u", --Convert > \117.
	["Ų"]="u", ["ų"]="u", ["Ŭ"]="u", ["ŭ"]="u", ["Ů"]="u", ["ů"]="u", ["Ű"]="u", ["ű"]="u", ["Ū"]="u", ["ū"]="u", --Convert > \117. -- Note: Ų, Ŭ, Ů, Ű, Ū fail with strlower, include both.
	["ω"]="w", ["ώ"]="w", ["Ẃ"]="w", ["ẃ"]="w", ["Ẁ"]="w", ["ẁ"]="w", ["Ŵ"]="w", ["ŵ"]="w", ["Ẅ"]="w", ["ẅ"]="w", ["Ｗ"]="w", ["ｗ"]="w", -- First letter is small Greek omega Ώ "\207\142". Convert > \119. -- Note: Ẃ, Ẁ, Ŵ, Ẅ, Ｗ fail with strlower, include both.
	["у"]="y", ["ý"]="y", ["Ÿ"]="y", ["ÿ"]="y", -- First letter is Russian "\209\131". Convert > \121. -- Note: Ÿ fail with strlower, include both.
	["０"]="0", ["１"]="1", ["２"]="2", ["３"]="3", ["４"]="4", ["５"]="5", ["６"]="6", ["７"]="7", ["８"]="8", ["９"]="9",
	["•"]=".", ["·"]=".", ["，"]=",", ["º"]="o", ["®"]="r", ["○"]="o", ["†"]="t",
}

--[[ Chat Scanning ]]--
local Ambiguate, BNGetGameAccountInfoByGUID, gsub, lower, next, type, tremove = Ambiguate, BNGetGameAccountInfoByGUID, gsub, string.lower, next, type, tremove
local IsFriend, IsGuildMember, UnitInRaid, UnitInParty, CanComplainChat, SetCVar = C_FriendList.IsFriend, IsGuildMember, UnitInRaid, UnitInParty, CanComplainChat, SetCVar
local CanReportPlayer, ReportPlayer, PlayerLocation = C_ReportSystem.CanReportPlayer, C_ReportSystem.ReportPlayer, PlayerLocation
local spamCollector, backupCollector, spamLogger, prevShow, enableBubble = {}, {}, {}, 0, false
local blockedLineId, et, chatLines, chatPlayers = 0, 7, {}, {}
local btn, reportFrame
local function IsFriendly(name, flag, _, guid)
	if not guid then return true end -- LocalDefense automated prints
	if not guid:find("^Player") then -- Bad addons
		local msg = "BadBoy: Unexpected GUID requested by an addon: ".. guid
		print(msg)
		geterrorhandler()(msg)
		return true
	end
	local _, characterName = BNGetGameAccountInfoByGUID(guid)
	if characterName or IsGuildMember(guid) or IsFriend(guid) or UnitInRaid(name) or UnitInParty(name) or flag == "GM" or flag == "DEV" then
		return true
	end
end
local function Cleanse(msg)
	msg = gsub(msg, "|c[^%[]+%[([^%]]+)%]|h|r", "%1") -- Speed up processing messages with links by removing them
	msg = lower(msg) --Lower all text, remove capitals
	for k,v in next, repTbl do
		msg = gsub(msg, k, v)
	end
	return msg
end
local eventFunc = function(_, event, msg, player, _, _, _, flag, channelId, channelNum, _, _, lineId, guid)
	-- Re-enable chat bubbles if they were disabled in the previous event.
	if enableBubble then
		enableBubble = false
		SetCVar("chatBubbles", 1)
	end

	blockedLineId = 0
	if event == "CHAT_MSG_CHANNEL" and (channelId == 0 or type(channelId) ~= "number") then return end --Only scan official custom channels (gen/trade)

	local trimmedPlayer = Ambiguate(player, "none")
	if IsFriendly(trimmedPlayer, flag, nil, guid) then return end

	local debug = msg --Save original message format
	msg = Cleanse(msg)

	--20 line text buffer, this checks the current line, and blocks it if it's the same as one of the previous 20
	if event == "CHAT_MSG_CHANNEL" then
		local cleanestMsg = gsub(msg, "[@,./\\=]", "") -- Anything purposely not removed by Cleanse()
		for i=1, #chatLines do
			if chatLines[i] == cleanestMsg and chatPlayers[i] == guid then --If message same as one in previous 20 and from the same person...
				blockedLineId = lineId
				-- Reduce the chances of a spam report expiring (line id is too old) by refreshing it
				if spamCollector[guid] and S.is(msg) then
					local loc = PlayerLocation:CreateFromChatLineID(lineId)
					spamCollector[guid] = loc
					if BADBOY_OPTIONS.tipSpam then
						spamLogger[guid] = debug
					end
				elseif backupCollector[guid] and next(spamCollector) and S.is(msg) then
					local loc = PlayerLocation:CreateFromChatLineID(lineId)
					backupCollector[guid] = loc
				end
				--
				return
			end
			if i == 20 then tremove(chatLines, 1) tremove(chatPlayers, 1) end --Don't let the DB grow larger than 20
		end
		chatLines[#chatLines+1] = cleanestMsg
		chatPlayers[#chatPlayers+1] = guid
	end
	--End text buffer

	if S.is(msg) then
		if event == "CHAT_MSG_SAY" or event == "CHAT_MSG_YELL" then
			-- Awful way of disabling chat bubbles when spam is detected.
			-- Chat bubbles are processed internally by the game client AFTER all the addon event handlers are fired.
			if GetCVarBool("chatBubbles") then
				enableBubble = true
				SetCVar("chatBubbles", 0)
			end
		end
		if not BADBOY_OPTIONS.freqButton then
			for i = 1, #S[et] do
				if strfind(msg, S[et][i]) then
					blockedLineId = lineId
					return
				end
			end
		end
		if BadBoyLog then
			BadBoyLog("BadBoy", event, trimmedPlayer, debug)
		end
		if not BADBOY_BLACKLIST[guid] and not IsEncounterInProgress() then
			local loc = PlayerLocation:CreateFromChatLineID(lineId)
			spamCollector[guid] = loc
			if BADBOY_OPTIONS.tipSpam then
				spamLogger[guid] = debug
				if btn:IsShown() and reportFrame:IsMouseOver() then
					GameTooltip_Hide()
					reportFrame:GetScript("OnEnter")(reportFrame) -- Add more spam to tooltip if shown
				end
			end

			local t = GetTime()
			if t-prevShow > (BADBOY_OPTIONS.freqBtn and 30 or 90) then
				if prevShow == 0 then
					prevShow = t+25
					-- Delay the first one to grab more spam on really bad realms
					C_Timer.After(25, function() btn:Show() end)
				else
					prevShow = t
					btn:Show()
				end
			end
		end

		if BADBOY_BLACKLIST[guid] then
			-- We have already reported this person today. We won't show the button again, but add them to the backup table to report them
			-- again only if we click the button for other spam, to completely eliminate processing their chat, improving performance.
			local loc = PlayerLocation:CreateFromChatLineID(lineId)
			backupCollector[guid] = loc
		end

		blockedLineId = lineId
		return
	elseif next(spamCollector) then
		local t = GetTime()
		if t-prevShow > (BADBOY_OPTIONS.freqBtn and 30 or 90) then
			prevShow = t
			btn:Show()
		end
	end
end
local filterFunc = function(_, _, _, _, _, _, _, _, _, _, _, _, lineId)
	if blockedLineId == lineId then
		return true
	end
end

do
	btn = CreateFrame("Frame", nil, ChatFrame1)
	btn:SetWidth(50)
	btn:SetHeight(50)
	btn:SetPoint("BOTTOMRIGHT", 18, -20)
	btn:SetFrameStrata("DIALOG")
	local tx = btn:CreateTexture()
	tx:SetAllPoints(btn)
	tx:SetMask("Interface\\CharacterFrame\\TempPortraitAlphaMask")
	tx:SetTexture(132360) -- Interface/Icons/Ability_Warrior_ShieldMastery
	local animGroup = btn:CreateAnimationGroup()
	animGroup:SetLooping("REPEAT")
	local scale = animGroup:CreateAnimation("Scale")
	scale:SetOrder(1)
	scale:SetFromScale(0.25,0.25)
	scale:SetToScale(1,1)
	scale:SetDuration(0.4)
	local scale2 = animGroup:CreateAnimation("Scale")
	scale2:SetOrder(2)
	scale2:SetFromScale(1,1)
	scale2:SetToScale(0.25,0.25)
	scale2:SetDuration(0.4)
	scale2:SetEndDelay(8)
	animGroup:Play()
	btn:Hide()

	reportFrame = CreateFrame("Button", nil, btn)
	reportFrame:SetAllPoints(ChatFrame1)
	reportFrame:SetFrameStrata("DIALOG")
	local ticker = nil
	local tickerFunc = function()
		local canReport = false
		for k, v in next, spamCollector do
			if CanReportPlayer(v) then
				canReport = true
			else
				spamCollector[k] = nil
				spamLogger[k] = nil
			end
		end
		for k, v in next, backupCollector do
			if not CanReportPlayer(v) then
				backupCollector[k] = nil
			end
		end
		if not canReport then
			btn:Hide()
		end
	end
	btn:SetScript("OnShow", function()
		if ticker then ticker:Cancel() end
		ticker = C_Timer.NewTicker(5, tickerFunc)
		tickerFunc()
		-- Don't animate if the feature is disabled
		if animGroup:IsPlaying() and BADBOY_OPTIONS.noAnim then
			btn:SetWidth(12)
			btn:SetHeight(12)
			animGroup:Stop()
			btn:ClearAllPoints()
			btn:SetPoint("BOTTOMRIGHT", 0, -5)
		elseif not animGroup:IsPlaying() and not BADBOY_OPTIONS.noAnim then
			btn:SetWidth(46)
			btn:SetHeight(46)
			animGroup:Play()
			btn:ClearAllPoints()
			btn:SetPoint("BOTTOMRIGHT", 18, -20)
		end
	end)
	btn:SetScript("OnHide", function()
		if ticker then
			ticker:Cancel()
			ticker = nil
		end
	end)
	reportFrame:SetScript("OnClick", function(self, btn)
		if IsAltKeyDown() then -- Dismiss
			prevShow = GetTime() -- Refresh throttle so we don't risk showing again straight after reporting
			self:GetParent():Hide()
			for k in next, spamCollector do
				spamCollector[k] = nil
				spamLogger[k] = nil
			end
		else -- Report
			prevShow = GetTime() -- Refresh throttle so we don't risk showing again straight after reporting
			self:GetParent():Hide()

			local systemMsg = {GetFramesRegisteredForEvent("CHAT_MSG_SYSTEM")} -- Don't show the "Complaint Registered" message
			local infoMsg = {GetFramesRegisteredForEvent("UI_INFO_MESSAGE")} -- Don't show the "Thanks for the report" message
			local calendarError = {GetFramesRegisteredForEvent("CALENDAR_UPDATE_ERROR")} -- Remove calendar error popup (Blizz bug)
			for i = 1, #systemMsg do
				systemMsg[i]:UnregisterEvent("CHAT_MSG_SYSTEM")
			end
			for i = 1, #infoMsg do
				infoMsg[i]:UnregisterEvent("UI_INFO_MESSAGE")
			end
			for i = 1, #calendarError do
				calendarError[i]:UnregisterEvent("CALENDAR_UPDATE_ERROR")
			end

			for k, v in next, spamCollector do
				if CanReportPlayer(v) then
					BADBOY_BLACKLIST[k] = true
					ReportPlayer("spam", v, "Reported by the BadBoy addon. If this seems wrong, tell the author @funkbw on Twitter.")
				end
				spamCollector[k] = nil
				spamLogger[k] = nil
			end
			for k, v in next, backupCollector do
				if CanReportPlayer(v) then
					ReportPlayer("spam", v, "Reported by the BadBoy addon. If this seems wrong, tell the author @funkbw on Twitter.")
				end
				backupCollector[k] = nil
			end

			for i = 1, #systemMsg do
				systemMsg[i]:RegisterEvent("CHAT_MSG_SYSTEM")
			end
			for i = 1, #infoMsg do
				infoMsg[i]:RegisterEvent("UI_INFO_MESSAGE")
			end
			for i = 1, #calendarError do
				-- There's a delay before the event fires
				C_Timer.After(5, function() calendarError[i]:RegisterEvent("CALENDAR_UPDATE_ERROR") end)
			end
		end
	end)
	reportFrame:SetScript("OnEnter", function(self)
		GameTooltip:SetOwner(self, "ANCHOR_CURSOR")
		GameTooltip:AddLine(S.spamBlocked, 1, 1, 1)
		GameTooltip:AddLine(S.clickToReport, 1, 1, 1)
		if next(spamLogger) then
			GameTooltip:AddLine(" ", 0.5, 0.5, 1)
			for k, v in next, spamLogger do
				GameTooltip:AddLine(v, 0.2, 1, 0)
			end
		end
		GameTooltip:Show()
	end)
	reportFrame:SetScript("OnLeave", GameTooltip_Hide)
end

--[[ Add Filters ]]--
do
	local f = CreateFrame("Frame")
	f:SetScript("OnEvent", eventFunc)
	local tbl = {
		"CHAT_MSG_CHANNEL",
		"CHAT_MSG_YELL",
		"CHAT_MSG_SAY",
		"CHAT_MSG_WHISPER",
		"CHAT_MSG_EMOTE",
		"CHAT_MSG_DND",
		"CHAT_MSG_AFK",
	}
	for i = 1, #tbl do
		local event = tbl[i]
		local frames = {GetFramesRegisteredForEvent(event)}
		f:RegisterEvent(event)
		ChatFrame_AddMessageEventFilter(event, filterFunc)
		for i = 1, #frames do
			local frame = frames[i]
			frame:UnregisterEvent(event)
			frame:RegisterEvent(event)
		end
	end
end

--[[ Blacklist ]]--
do
	local f = CreateFrame("Frame")
	f:RegisterEvent("ADDON_LOADED")
	f:RegisterEvent("PLAYER_LOGIN")
	f:SetScript("OnEvent", function(frame, event, addon)
		if addon == "BadBoy" then
			if type(BADBOY_OPTIONS) ~= "table" then BADBOY_OPTIONS = {} end
			if type(BADBOY_BLACKLIST) ~= "table" then BADBOY_BLACKLIST = {} end
			frame:UnregisterEvent(event)
		elseif event == "PLAYER_LOGIN" then
			-- Blacklist DB setup, needed since Blizz nerfed ReportPlayer so hard the block sometimes only lasts a few minutes.
			local dateTbl = C_DateAndTime.GetCurrentCalendarTime()
			local day = dateTbl.monthDay
			if BADBOY_BLACKLIST.dayFromCal ~= day then
				BADBOY_BLACKLIST = {dayFromCal = day} -- Can't use ADDON_LOADED as date function isn't always ready on very first login.
			end
			SetCVar("spamFilter", 1)
			frame:UnregisterEvent(event)
			BADBOY_OPTIONS.tmp = nil
			BADBOY_OPTIONS.tmpm = nil
			BADBOY_OPTIONS.tmpl = nil
			BADBOY_OPTIONS.freqButton = nil

			-- Chat bubble restore
			frame:SetScript("OnEvent", function()
				if enableBubble then
					enableBubble = false
					SetCVar("chatBubbles", 1)
				end
			end)
			-- Hopefully we never end up in a situation where we've permanently disabled chat bubbles for the user.
			frame:RegisterEvent("PLAYER_LOGOUT")
			frame:RegisterEvent("CHAT_MSG_MONSTER_SAY")
			frame:RegisterEvent("CHAT_MSG_MONSTER_YELL")
		end
	end)
end

_G.BadBoyIsFriendly = IsFriendly
_G.BadBoyCleanse = Cleanse
